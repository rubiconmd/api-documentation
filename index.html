<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>RubiconMD API</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='http://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<aside class="warning">
The requests presented on this API documentation are for our live **production environment**. For development and testing, it is recommended to use our **sandbox environment**.
</aside>

<table><thead>
<tr>
<th>Server</th>
<th>URL</th>
</tr>
</thead><tbody>
<tr>
<td><strong>Sandbox:</strong></td>
<td><code class="prettyprint">https://demo.rubiconmd.com</code></td>
</tr>
<tr>
<td><strong>Production:</strong></td>
<td><code class="prettyprint">https://rubiconmd.com</code></td>
</tr>
</tbody></table>

<h1 id="authentication">Authentication</h1>

<blockquote>
<p>The RubiconMD server authenticates via the use of access tokens. <br></p>
</blockquote>
<pre class="highlight shell"><code><span class="c"># Just a standard HTTP Request</span>
  Note: Be sure to curl using https: when connecting.

<span class="c">## User authentication not required (app has standing permissions from user)</span>
curl -i https://rubiconmd.com/api/v1/oauth/token
 -F <span class="nv">grant_type</span><span class="o">=</span><span class="s2">"standing"</span>
 -F <span class="nv">email</span><span class="o">=</span><span class="s2">"USER_EMAIL_ADDRESS"</span>
 -F <span class="nv">client_id</span><span class="o">=</span><span class="s2">"YOUR_CLIENT_ID"</span>
 -F <span class="nv">client_secret</span><span class="o">=</span><span class="s2">"YOUR_CLIENT_SECRET"</span>

 <span class="c">## User authentication required</span>
 curl -i https://rubiconmd.com/api/v1/oauth/token
 -F <span class="nv">grant_type</span><span class="o">=</span><span class="s2">"client_credentials"</span>
 -F <span class="nv">client_id</span><span class="o">=</span><span class="s2">"YOUR_CLIENT_ID"</span>
 -F <span class="nv">client_secret</span><span class="o">=</span><span class="s2">"YOUR_CLIENT_SECRET"</span>
</code></pre>

<blockquote>
<p>A successful request will return:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AAAAAA"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bearer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">7200</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>RubiconMD uses an OAuth2 workflow for obtaining the access tokens needed for API access.</p>

<p>To make an access token request, valid API keys are required. To request or cycle your API keys, please contact <a href="mailto: michael@rubiconmd.com?Subject=Rubicon%20API%20Keys">Michael</a>.</p>

<p>RubiconMD API requires a valid access token to be included within the parameters for all API requests to the server:</p>

<p><code class="prettyprint">?access_token=&quot;AAAAAA&quot;</code></p>

<aside class="notice">
For security, all access_tokens expire in two hours.
</aside>

<h3 id="grant-types">Grant Types</h3>

<p><code class="prettyprint">standing</code>: If you are making a request on behalf of a user that has granted standing access to your application (if you created the user, such permissions are granted by default), then this grant type will return an access token that will be sufficient to make requests that user to authenticate on the RubiconMD site.</p>

<p><code class="prettyprint">client_credentials</code>: This will return a token that can be used for making queries that do not require a user to be logged in. This includes OAuth2-type queries where the user authenticates on the RubiconMD site, then is redirected back to your site with a valid_access token for making API calls on the user&rsquo;s behalf.</p>

<h1 id="basics">Basics</h1>

<p>Here are some basic tools you can use with all API calls.</p>

<h2 id="limit">Limit</h2>

<aside class="warning">
  The limit parameter has been deprecated &ndash; it was just too limit-ed. Please use `per_page`, instead.
</aside>

<h2 id="paginators">Paginators</h2>
<pre class="highlight shell"><code>curl -i https://rubiconmd.com/api/v1/provider_cases?access_token<span class="o">=</span><span class="s2">"AAAAAA"</span>&amp;per_page<span class="o">=</span>15&amp;page<span class="o">=</span>2
</code></pre>

<p>You can use the <code class="prettyprint">per_page</code> and <code class="prettyprint">page</code> parameters to paginate results. If neither parameter is provided, all records will be returned by default.</p>

<aside class="success">
Using pagination greatly increases response times and is highly recommended.
</aside>

<h3 id="per_page">per_page</h3>

<p>Returns the specified number of records per page.</p>

<aside class="notice">
  For all endpoints, the default number of records `per_page` is 25. If a `per_page` parameter is passed without a `page` parameter, the server will return just the first page by default.
</aside>

<h3 id="page">page</h3>

<p>Returns the specified page of records. If, for example, you only want to retrieve records 16-30, passing <code class="prettyprint">?per_page=15&amp;page=2</code> as parameters would give you just those records.</p>

<h3 id="header-fields">Header fields</h3>

<p>Using one or both of the pagination parameters will add some useful header fields to the server response, including:</p>

<ul>
<li><code class="prettyprint">Total</code> - total number of records available</li>
<li><code class="prettyprint">Per-Page</code> - number of records being returned per page</li>
<li><code class="prettyprint">Link</code> - the API endpoints (as full URLs) to call for retrieving the next and previous pages of results</li>
</ul>

<h1 id="provider-cases">Provider Cases</h1>

<p>Provider Cases are created by a user that is seeking a specialist response to the case.</p>

<h2 id="get-all-provider-cases">Get All Provider Cases</h2>
<pre class="highlight shell"><code>curl -i https://rubiconmd.com/api/v1/provider_cases?access_token<span class="o">=</span><span class="s2">"AAAAAA"</span>
</code></pre>

<blockquote>
<p>A successful request returns the following:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10071849</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"opened"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Victim bleeding from pores... possibly Red Death?"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">888</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"assigned"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Is it possible to have a case of Rocky Mountain Spotted Fever occur in the Appalachians and with stripes?"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves all the provider case for the authenticated user.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://rubiconmd.com/api/v1/provider_cases?access_token=&quot;AAAAAA&quot;</code></p>

<h3 id="query-optional-parameters">Query Optional Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>state</td>
<td>Only returns cases of the specified state. Possible options: assigned, accepted, declined, awaiting_review, need_specialist_reply, need_pcp_reply, closed</td>
</tr>
<tr>
<td>per_page</td>
<td>Number of records to display per_page. <a href="#paginators">Read more.</a></td>
</tr>
<tr>
<td>page</td>
<td>Page to display. <a href="#paginators">Read more.</a></td>
</tr>
</tbody></table>

<h2 id="get-a-specific-provider-case">Get a Specific Provider Case</h2>
<pre class="highlight shell"><code>curl -i https://rubiconmd.com/api/v1/provider_cases/10071849?access_token<span class="o">=</span><span class="s2">"AAAAAA"</span>
</code></pre>

<blockquote>
<p>A successful request returns the following:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10071849</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accepted"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Victim bleeding from pores... possibly Red Death?"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1842-05-15T15:33:44.220-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1842-05-15T15:45:56.440-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"assigned_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1842-05-15T15:33:46.774-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"accepted_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1842-05-15T15:45:56.430-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"patient_age"</span><span class="p">:</span><span class="w"> </span><span class="mi">33</span><span class="p">,</span><span class="w">
  </span><span class="nt">"patient_gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Male"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"differential_diagnosis"</span><span class="p">:</span><span class="w"> </span><span class="s2">"If not Red Death, maybe Telltale Heart Disease?"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"medical_history"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lots of partying and excessive drinking."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"medications"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Amontillado"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"symptoms"</span><span class="p">:</span><span class="w"> </span><span class="s2">"convulsions, bloody sweat, seeing masked illusions."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"labs"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint will return the JSON data about a specific case.</p>

<aside class="notice">
 Make sure to replace `CASE_ID` with the actual ID of the case you want to look up.
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://rubiconmd.com/api/v1/provider_cases/CASE_ID?access_token=&quot;AAAAAA&quot;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>CASE_ID</td>
<td>The ID of the case to retrieve</td>
</tr>
</tbody></table>

<h2 id="create-a-new-provider-case">Create a New Provider Case</h2>
<pre class="highlight shell"><code>curl -X POST
  -H <span class="s2">"Content-Type: application/json"</span>
  -d <span class="s1">'{"provider_case":{"question":"Victim bleeding from pores... possibly Red Death?","patient_birthdate": "2009-01-19","patient_gender": "Male","patient_first_name":"P.","patient_middle_name":"N/A","patient_last_name":"Prospero","differential_diagnosis":"If not Red Death, maybe Telltale Heart Disease?","medical_history":"Lots of partying and excessive drinking.","medications":"Amontillado","symptoms":"convulsions, bloody sweat, seeing masked illusions.","labs":"N/A"}}'</span> <span class="s2">"https://rubiconmd.com/api/v1/provider_cases?access_token=AAAAAA"</span>
</code></pre>

<blockquote>
<p>A successful POST request returns a JSON response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10071849</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accepted"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Victim bleeding from pores... possibly Red Death?"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1842-05-15T15:33:44.220-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1842-05-15T15:45:56.440-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"assigned_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1842-05-15T15:33:46.774-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"accepted_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1842-05-15T15:45:56.430-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"patient_age"</span><span class="p">:</span><span class="w"> </span><span class="mi">33</span><span class="p">,</span><span class="w">
  </span><span class="nt">"patient_gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Male"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"differential_diagnosis"</span><span class="p">:</span><span class="w"> </span><span class="s2">"If not Red Death, maybe Telltale Heart Disease?"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"medical_history"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lots of partying and excessive drinking."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"medications"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Amontillado"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"symptoms"</span><span class="p">:</span><span class="w"> </span><span class="s2">"convulsions, bloody sweat, seeing masked illusions."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"labs"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://rubiconmd.com/api/v1/provider_cases/ {&quot;provider_case&quot;: {&quot;question&quot;: TEXT, &quot;patient_birthdate&quot;: TEXT, &quot;patient_gender&quot;: TEXT, &quot;patient_first_name&quot;: TEXT, &quot;patient_middle_name&quot;: TEXT, &quot;patient_last_name&quot;: TEXT, &quot;differential_diagnosis&quot;: TEXT, &quot;medical_history&quot;: TEXT, &quot;medications&quot;: TEXT, &quot;symptoms&quot;: TEXT, &quot;labs&quot;: TEXT} }</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>question</td>
<td>The specific question for the specialist to answer.</td>
</tr>
<tr>
<td>patient_birthdate</td>
<td>Patient birthdate. Must be formatted as text: &ldquo;YYYY-MM-DD&rdquo;</td>
</tr>
<tr>
<td>patient_gender</td>
<td>Patient gender. Only acceptable values are &ldquo;Female&rdquo;,  &ldquo;Male&rdquo;, and &ldquo;Other&rdquo;.</td>
</tr>
<tr>
<td>patient_first_name</td>
<td>Patient first name.</td>
</tr>
<tr>
<td>patient_middle_name</td>
<td>Patient middle name.</td>
</tr>
<tr>
<td>patient_last_name</td>
<td>Patient last name.</td>
</tr>
<tr>
<td>differential_diagnosis</td>
<td>Physician thoughts/plans.</td>
</tr>
<tr>
<td>medical_history</td>
<td>Patient relevant prior medical history.</td>
</tr>
<tr>
<td>medications</td>
<td>Patient medications.</td>
</tr>
<tr>
<td>symptoms</td>
<td>Patient current presentation.</td>
</tr>
<tr>
<td>labs</td>
<td>Lab results.</td>
</tr>
</tbody></table>

<h1 id="case-referrals">Case Referrals</h1>

<p>Case Referrals are the de-identified cases received by a specialist. Only users that are specialists can access Case Referrals.</p>

<h2 id="get-all-case-referrals">Get All Case Referrals</h2>
<pre class="highlight shell"><code>curl -i https://rubiconmd.com/api/v1/referrals?access_token<span class="o">=</span><span class="s2">"AAAAAA"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">37</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accepted"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Does this look deadly?"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"need_pcp_reply"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Is this Lupus?"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves all the case referrals for the authenticated user.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://rubiconmd.com/api/v1/referrals?access_token=&quot;AAAAAA&quot;</code></p>

<h3 id="query-optional-parameters">Query Optional Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>state</td>
<td>Gets pending cases with a particular state.</td>
</tr>
<tr>
<td>per_page</td>
<td>Number of records to display per_page. <a href="#paginators">Read more.</a></td>
</tr>
<tr>
<td>page</td>
<td>Page to display. <a href="#paginators">Read more.</a></td>
</tr>
</tbody></table>

<p><strong>states:</strong> assigned, accepted, declined, awaiting_review, need_specialist_reply, need_pcp_reply, closed</p>

<h2 id="get-a-specific-case-referral">Get a Specific Case Referral</h2>
<pre class="highlight shell"><code>curl -i https://rubiconmd.com/api/v1/referrals/57?access_token<span class="o">=</span><span class="s2">"AAAAAA"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">57</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accepted"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Is this normal?"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-07-15T15:33:44.220-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-07-15T15:45:56.440-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"assigned_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-07-15T15:33:46.774-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"accepted_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-07-15T15:45:56.430-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"patient_age"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w">
  </span><span class="nt">"patient_gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Female"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"differential_diagnosis"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is my Differential Diagnosis."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"medical_history"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A long one."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"medications"</span><span class="p">:</span><span class="w"> </span><span class="s2">"None that you should know."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"symptoms"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Feels bad."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"labs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cholesterol levels are fine."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint will return the JSON data about a specific case.</p>

<aside class="notice">
 Make sure to replace `CASE_ID` with the actual ID of the case you want to look up.
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://rubiconmd.com/api/v1/referrals/CASE_ID?access_token=&quot;AAAAAA&quot;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>CASE_ID</td>
<td>The ID of the case to retrieve</td>
</tr>
</tbody></table>

<h2 id="accept-reject-a-specific-case">Accept / Reject a Specific Case</h2>
<pre class="highlight shell"><code>curl -i https://rubiconmd.com/api/v1/referrals/57/reject?access_token<span class="o">=</span><span class="s2">"AAAAAA"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">57</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"declined"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Is this normal?"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-07-15T15:33:44.220-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-07-15T15:45:56.440-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"assigned_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-07-15T15:33:46.774-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"accepted_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-07-15T15:45:56.430-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"patient_age"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w">
  </span><span class="nt">"patient_gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Female"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"differential_diagnosis"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is my Differential Diagnosis."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"medical_history"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A long one."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"medications"</span><span class="p">:</span><span class="w"> </span><span class="s2">"None that you should know."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"symptoms"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Feels bad."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"labs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cholesterol levels are fine."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint allows you to accept or turn down a specific case.</p>

<aside class="success">
When a case is accepted, a successful call will return the JSON data about the case. A successful rejected case call will return: {message: &ldquo;The case was successfully rejected.&rdquo;}
</aside>

<aside class="warning">
An unsuccessful call will return a **402** and an error message:
{&ldquo;error&rdquo;:&ldquo;This case could not be accepted at this time.&rdquo;}
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://rubiconmd.com/api/v1/rubiconmdeferrals/CASE_ID/ACTION?access_token=&quot;AAAAAA&quot;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>CASE_ID</td>
<td>The ID of the case to retrieve</td>
</tr>
<tr>
<td>ACTION</td>
<td>Accepts or rejects a case.</td>
</tr>
</tbody></table>

<p><strong>Actions:</strong> accept, reject</p>

<h1 id="case-responses">Case Responses</h1>

<h2 id="get-all-responses">Get All Responses</h2>
<pre class="highlight shell"><code>curl -i https://rubiconmd.com/api/v1/referrals/63/responses?access_token<span class="o">=</span><span class="s2">"AAAAAA"</span>

curl -i https://rubiconmd.com/api/v1/provider_cases/63/responses?access_token<span class="o">=</span><span class="s2">"AAAAAA"</span>
</code></pre>

<blockquote>
<p>A successful request returns an array of JSON responses:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
    </span><span class="nt">"case_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">63</span><span class="p">,</span><span class="w">
    </span><span class="nt">"specialist_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
    </span><span class="nt">"body"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is where you put the specialist text response."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-12T14:11:38.554-04:00"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"purpose"</span><span class="p">:</span><span class="w"> </span><span class="s2">"specialist_opinion"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"need_reply"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w">
  </span><span class="nt">"case_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">63</span><span class="p">,</span><span class="w">
  </span><span class="nt">"specialist_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"body"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is a pcp response."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-12T14:19:33.554-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"purpose"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pcp_reply"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"need_reply"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>Retrieves all the responses associated with a specific case.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://rubiconmd.com/api/v1/referrals/CASE_ID/responses?access_token=&quot;AAAAAA&quot;</code></p>

<p>or</p>

<p><code class="prettyprint">GET https://rubiconmd.com/api/v1/provider_cases/CASE_ID/responses?access_token=&quot;AAAAAA&quot;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>CASE_ID</td>
<td>The ID of the case to retrieve</td>
</tr>
</tbody></table>

<h3 id="response-fields">Response Fields</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>ID # of response</td>
</tr>
<tr>
<td>case_id</td>
<td>ID # of associated case</td>
</tr>
<tr>
<td>specialist_id</td>
<td>ID # of specialist that made the response (if user was a provider, this value will be nil)</td>
</tr>
<tr>
<td>body</td>
<td>The text of the response</td>
</tr>
<tr>
<td>created_at</td>
<td>Time response was created</td>
</tr>
<tr>
<td>purpose</td>
<td>Either &lsquo;pcp_comment&rsquo; or &#39;specialist_reply&rsquo;</td>
</tr>
<tr>
<td>need_reply</td>
<td>Boolean value dictating whether or not creator needed a reply to the response</td>
</tr>
</tbody></table>

<h2 id="get-a-specific-response">Get a Specific Response</h2>
<pre class="highlight shell"><code>curl -i https://rubiconmd.com/api/v1/referrals/63/responses/17?access_token<span class="o">=</span><span class="s2">"AAAAAA"</span>

curl -i https://rubiconmd.com/api/v1/provider_cases/63/responses/17?access_token<span class="o">=</span><span class="s2">"AAAAAA"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">17</span><span class="p">,</span><span class="w">
  </span><span class="nt">"case_id"</span><span class="p">:</span><span class="mi">63</span><span class="p">,</span><span class="w">
  </span><span class="nt">"specialist_id"</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span><span class="w">
  </span><span class="nt">"body"</span><span class="p">:</span><span class="s2">"This is where you put the specialist text response."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="s2">"2014-04-12T14:11:38.554-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"purpose"</span><span class="p">:</span><span class="s2">"specialist_opinion"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"need_reply"</span><span class="p">:</span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Lookup a specific response by the response&rsquo;s ID.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://rubiconmd.com/api/v1/referrals/CASE_ID/responses/RESPONSE_ID?access_token=&quot;AAAAAA&quot;</code></p>

<p>or</p>

<p><code class="prettyprint">GET https://rubiconmd.com/api/v1/provider_cases/CASE_ID/responses/RESPONSE_ID?access_token=&quot;AAAAAA&quot;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>CASE_ID</td>
<td>The ID of the case to retrieve</td>
</tr>
<tr>
<td>RESPONSE_ID</td>
<td>The ID of the specific response you want to get</td>
</tr>
</tbody></table>

<h2 id="post-a-response">Post a Response</h2>
<pre class="highlight shell"><code>curl -X POST
  -H <span class="s2">"Content-Type: application/json"</span>
  -d <span class="s1">'{"response":{"body":"This is where you put the text of the response.","purpose":"specialist_opinion","need_reply":"true"}}'</span> <span class="s2">"https://rubiconmd.com/api/v1/referrals/63/responses?access_token=AAAAAA"</span>

curl -X POST
  -H <span class="s2">"Content-Type: application/json"</span>
  -d <span class="s1">'{"response":{"body":"This is where you put the text of the response.","purpose":"pcp_comment","need_reply":"true"}}'</span> <span class="s2">"https://rubiconmd.com/api/v1/provider_cases/63/responses?access_token=AAAAAA"</span>
</code></pre>

<blockquote>
<p>A successful POST request returns a JSON response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
  </span><span class="nt">"case_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">63</span><span class="p">,</span><span class="w">
  </span><span class="nt">"specialist_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
  </span><span class="nt">"body"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is where you put the text of the response."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-12T14:11:38.554-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"purpose"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pcp_comment"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"need_reply"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This allows you post a response in a specific case (as a specialist). It also returns your response.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://rubiconmd.com/api/v1/referrals/CASE_ID/responses/ {&quot;response&quot;: {&quot;body&quot;: TEXT, &quot;purpose&quot;: &quot;specialist_opinion&quot;, &quot;need_reply&quot;: BOOLEAN} }</code></p>

<p>or</p>

<p><code class="prettyprint">POST https://rubiconmd.com/api/v1/provider_cases/CASE_ID/responses/ {&quot;response&quot;: {&quot;body&quot;: TEXT, &quot;purpose&quot;: &quot;pcp_comment&quot;, &quot;need_reply&quot;: BOOLEAN} }</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>CASE_ID</td>
<td>The ID of the case you want to respond to</td>
</tr>
<tr>
<td>body</td>
<td>TEXT field with your response</td>
</tr>
<tr>
<td>purpose</td>
<td>&ldquo;specialist_opinion&rdquo; or &ldquo;pcp_comment&rdquo;</td>
</tr>
<tr>
<td>need_reply</td>
<td>BOOLEAN field, set to true if a reply is required from the provider/specialist</td>
</tr>
</tbody></table>

<aside class="notice">
The server will return an &ldquo;unprocessable entity&rdquo; HTTP response if the purpose does not match the user type (e.g., the user is a provider but the purpose is &ldquo;specialist_reply&rdquo;).
</aside>

<h1 id="images">Images</h1>

<h2 id="get-all-images-of-a-case">Get All Images of a case</h2>
<pre class="highlight shell"><code>curl -i https://rubiconmd.com/api/v1/provider_cases/CASE_ID/attachments?access_token<span class="o">=</span><span class="s2">"AAAAAA"</span>
</code></pre>

<blockquote>
<p>A successful request returns an array of JSON responses:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zhy7"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"image_file_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ee83c9baf45b73138bc6c771a.jpg"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"image_file_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">73260</span><span class="p">,</span><span class="w">
  </span><span class="nt">"image_content_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image/jpg"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-12T14:11:38.554-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-07-15T15:45:56.440-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"removable"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"original"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://rubicon.s3.amazonaws.com/attachments/images/000/000/000/original/ee83c9baf45b73138bc6c771a.jpg?"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"large"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://rubicon.s3.amazonaws.com/attachments/images/000/000/000/large/ee83c9baf45b73138bc6c771a.jpg?"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"thumb_340"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://rubicon.s3.amazonaws.com/attachments/images/000/000/000/thumb_340/ee83c9baf45b73138bc6c771a.jpg?"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"thumb_180"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://rubicon.s3.amazonaws.com/attachments/images/000/000/000/thumb_180/ee83c9baf45b73138bc6c771a.jpg?"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"response_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieves all the images associated with a specific case.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://rubiconmd.com/api/v1/provider_cases/CASE_ID/attachments?access_token=AAAAAA</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>CASE_ID</td>
<td>The ID of the case to retrieve</td>
</tr>
</tbody></table>

<h3 id="response-fields">Response Fields</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>ID # of image</td>
</tr>
<tr>
<td>image_file_name</td>
<td>Encrypted name of the file</td>
</tr>
<tr>
<td>image_file_size</td>
<td>Size of the file</td>
</tr>
<tr>
<td>image_content_type</td>
<td>The type of file</td>
</tr>
<tr>
<td>created_at</td>
<td>Time image was created</td>
</tr>
<tr>
<td>updated_at</td>
<td>Time image was updated</td>
</tr>
<tr>
<td>removable</td>
<td>Whether or not the image can be deleted</td>
</tr>
<tr>
<td>original</td>
<td>URL of the original image</td>
</tr>
<tr>
<td>large</td>
<td>URL of the large size image</td>
</tr>
<tr>
<td>thumb_340</td>
<td>URL of the thumb sized(340px) image</td>
</tr>
<tr>
<td>thumb_180</td>
<td>URL of the thumb sized(180px) image</td>
</tr>
<tr>
<td>response_id</td>
<td>Response ID of response attached to the image</td>
</tr>
</tbody></table>

<h2 id="post-an-image">Post an Image</h2>
<pre class="highlight shell"><code>curl -X POST
  -H <span class="s2">"Origin: https://rubiconmd.com"</span>
  -F <span class="s2">"attachment[image]=@/path/filename.ext"</span> <span class="s2">"https://rubiconmd.com/api/v1/provider_cases/A-9AGj/attachments?access_token=AAAAAA"</span>
</code></pre>

<blockquote>
<p>A successful POST request returns a JSON response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zhy7"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"image_file_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ee83c9baf45b73138bc6c771a.jpg"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"image_file_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">73260</span><span class="p">,</span><span class="w">
  </span><span class="nt">"image_content_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image/jpg"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-12T14:11:38.554-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-07-15T15:45:56.440-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"removable"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"original"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://rubicon.s3.amazonaws.com/attachments/images/000/000/000/original/ee83c9baf45b73138bc6c771a.jpg?"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"large"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://rubicon.s3.amazonaws.com/attachments/images/000/000/000/large/ee83c9baf45b73138bc6c771a.jpg?"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"thumb_340"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://rubicon.s3.amazonaws.com/attachments/images/000/000/000/thumb_340/ee83c9baf45b73138bc6c771a.jpg?"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"thumb_180"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://rubicon.s3.amazonaws.com/attachments/images/000/000/000/thumb_180/ee83c9baf45b73138bc6c771a.jpg?"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"response_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This allows you post an image in a specific case (as a pcp).</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://rubiconmd.com/api/v1/provider_cases/CASE_ID/attachments?access_token=AAAAAA</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>CASE_ID</td>
<td>The ID of the case you want to upload to</td>
</tr>
</tbody></table>

<!--
 ##
 ##
 ## USER INFO
 ##
 ##
-->

<h1 id="users">Users</h1>

<h2 id="user-information">User Information</h2>
<pre class="highlight shell"><code>curl -i https://rubiconmd.com/api/v1/users/me?access_token<span class="o">=</span><span class="s2">"AAAAAA"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span><span class="w">
   </span><span class="nt">"is_specialist"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="nt">"first_name"</span><span class="p">:</span><span class="s2">"Franklin"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"last_name"</span><span class="p">:</span><span class="s2">"McAwesome"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"role"</span><span class="p">:</span><span class="s2">"medical_doctor"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"email"</span><span class="p">:</span><span class="s2">"awesome_specialist@rubiconmd.com"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"organization"</span><span class="p">:</span><span class="s2">"Health Medical Clinic"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"country"</span><span class="p">:</span><span class="s2">"United States"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"specialties"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"specialty"</span><span class="p">:{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">17</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Electrophysiology"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"category"</span><span class="p">:</span><span class="s2">"Cardiology"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"specialty"</span><span class="p">:{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">24</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"HIV"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"category"</span><span class="p">:</span><span class="s2">"Infectious Diseases"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"specialty"</span><span class="p">:{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">31</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Hand surgery"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"category"</span><span class="p">:</span><span class="s2">"Orthopedic Surgery"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Want to get information about the user you just logged in? This is your endpoint.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://rubiconmd.com/api/v1/users/me?access_token=&quot;AAAAAA&quot;</code></p>

<h2 id="creating-users">Creating Users</h2>
<pre class="highlight shell"><code>curl -X POST
  -H <span class="s2">"Content-Type: application/json"</span>
  -d <span class="s1">'{"user":{"email": "awesome_specialist@rubiconmd.com", "first_name": "Franklin", "last_name": "McAwesome", "role": "medical_doctor"}}'</span> <span class="s2">"https://rubiconmd.com/api/v1/users?access_token=AAAAAA"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"first_name"</span><span class="p">:</span><span class="s2">"Franklin"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"last_name"</span><span class="p">:</span><span class="s2">"McAwesome"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"email"</span><span class="p">:</span><span class="s2">"awesome_specialist@rubiconmd.com"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"role"</span><span class="p">:</span><span class="s2">"medical_doctor"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This allows you to create a new provider for your organization.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://rubiconmd.com/api/v1/users/ {&quot;user&quot;: {&quot;email&quot;: TEXT, &quot;first_name&quot;: TEXT, &quot;last_name&quot;: TEXT, &quot;role&quot;: ROLE} }</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>The e-mail from the user you are creating.</td>
</tr>
<tr>
<td>first_name</td>
<td>First name of the user.</td>
</tr>
<tr>
<td>last_name</td>
<td>Last name of the user.</td>
</tr>
<tr>
<td>role</td>
<td>User&rsquo;s role. Roles are limited to the following values: &#39;medical_doctor&rsquo; , &#39;physician_assistant&rsquo; , &#39;registered_nurse&rsquo; , &#39;nurse_practitioner&rsquo;</td>
</tr>
<tr>
<td>per_page</td>
<td>Number of records to display per_page. <a href="#paginators">Read more.</a></td>
</tr>
<tr>
<td>page</td>
<td>Page to display. <a href="#paginators">Read more.</a></td>
</tr>
</tbody></table>

<h1 id="members">Members</h1>

<h2 id="batch-upload">Batch Upload</h2>
<pre class="highlight shell"><code>curl -X POST
  -H <span class="s2">"Content-Type: application/json"</span>
  -d <span class="s1">'{"members":[{"uid": "JIYGN-357-5309","first_name": "Charles","last_name": "Bovary","gender": "Male","date_of_birth": "12/15/1856","email": "devoted.husband@gmail.fr","race": "Norman","phone_number": "555-555-5555","insurance": "self","location": "Tostes","valid_until": "01/15/2018"}]}'</span> <span class="s2">"https://rubiconmd.com/api/v1/members?access_token=AAAAAA"</span>
</code></pre>

<blockquote>
<p>The above command ingests JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JIYGN-867-5309"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Emma"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bovary"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Female"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_of_birth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/15/1856"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rouen.girl@gmail.fr"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"race"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Norman"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-555-5555"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"insurance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"officier de santé"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tostes"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"valid_until"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01/15/2018"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JIYGN-637-5309"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rodolphe"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boulanger"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Male"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_of_birth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/15/1856"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"livin.easy@gmail.fr"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"race"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aristocrat"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-555-5555"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"insurance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"independent wealth"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tostes"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"valid_until"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01/15/2018"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JIYGN-638-6309"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Léon"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dupuis"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Male"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_of_birth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/15/1856"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"poetry.lover@gmail.fr"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"race"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Norman"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-555-5555"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"insurance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"grace of God?"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rouen"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"valid_until"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01/15/2018"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves all the members associated with your API client&rsquo;s organization.</p>

<h3 id="important-notes">Important Notes</h3>

<ul>
<li><p>All payloads must be formatted in JSON and wrapped with {&ldquo;members&rdquo;: [&hellip;]}, with the JSON payloads for individual members listed within the array.</p></li>
<li><p>UID is required for each member and must be unique. If two payloads are submitted with the same UID, the payload received later will overwrite the earlier one.</p></li>
<li><p>An access token created using the client_credentials authentication strategy is sufficient for this completing this request (most other tokens should be valid, as well).</p></li>
</ul>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://rubiconmd.com/api/v1/members?access_token=&quot;AAAAAA&quot; {&quot;members&quot;:[{&quot;uid&quot;: &quot;JIYGN-357-5309&quot;,&quot;first_name&quot;: &quot;Charles&quot;,&quot;last_name&quot;: &quot;Bovary&quot;,&quot;gender&quot;: &quot;Male&quot;,&quot;date_of_birth&quot;: &quot;12/15/1856&quot;,&quot;email&quot;: &quot;devoted.husband@gmail.fr&quot;,&quot;race&quot;: &quot;Norman&quot;,&quot;phone_number&quot;: &quot;555-555-5555&quot;,&quot;insurance&quot;: &quot;self&quot;,&quot;location&quot;: &quot;Tostes&quot;,&quot;valid_until&quot;: &quot;01/15/2018&quot;}]}</code></p>

<h3 id="query-optional-parameters">Query Optional Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>A unique identifier for the member, such as plan UID or MRN. (required)</td>
</tr>
<tr>
<td>first_name</td>
<td>Member first name. (recommended)</td>
</tr>
<tr>
<td>last_name</td>
<td>Member last name. (recommended)</td>
</tr>
<tr>
<td>gender</td>
<td>Member gender. Preferred values are &#39;Male&rsquo;, &#39;Female&rsquo;, or &#39;Transgender&rsquo;</td>
</tr>
<tr>
<td>date_of_birth</td>
<td>Member birthdate. Should be formated as MM/DD/YYYY. (required)</td>
</tr>
<tr>
<td>email</td>
<td>Member e-mail. (optional)</td>
</tr>
<tr>
<td>race</td>
<td>Member race. Can be combined with ethnicity.</td>
</tr>
<tr>
<td>phone_number</td>
<td>Member contact phone number.</td>
</tr>
<tr>
<td>insurance</td>
<td>Member insurance plan (freetext).</td>
</tr>
<tr>
<td>location</td>
<td>Member current location.</td>
</tr>
<tr>
<td>valid_until</td>
<td>Date that member record is no longer valid, or must be renewed/updated by. Should be formated as MM/DD/YYYY.</td>
</tr>
</tbody></table>

<h1 id="iframe">iFrame</h1>

<h2 id="iframe-url-calls">iFrame URL calls</h2>

<p>In order to call certain pages of our site through an iFrame, you must first obtain a user token.  It&rsquo;s a two-step process.</p>

<ol>
<li>Get a user token by curling the token endpoint with the access token.</li>
<li>Append the user token along with user info in the url.</li>
</ol>

<aside class="notice">
User tokens are one-time/single use only.
</aside>

<h2 id="obtaining-a-user-token">Obtaining a user token</h2>

<p>To get a user token, curl the endpoint with the access token.</p>
<pre class="highlight shell"><code>curl -i https://rubiconmd.com/api/v1/users/token?access_token<span class="o">=</span><span class="s2">"AAAAAA"</span>
</code></pre>

<blockquote>
<p>A successful request will return:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"user_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AAAAAA"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1302048000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://rubiconmd.com/api/v1/users/token?access_token=&quot;AAAAAA&quot;</code></p>

<h2 id="auto-login-amp-display-case">Auto-login &amp; Display case</h2>

<p>Pass users&rsquo; username, user token, and case id parameters into the URL.
<aside class="warning">Inside HTML code blocks like this one, you can&rsquo;t use Markdown, so use <code>&lt;code&gt;</code> blocks to denote code.</aside></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://rubiconmd.com/pcp_iframe?user_username=EMAIL&amp;user_token=TOKEN&amp;case_id=CASE_ID</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>The e-mail of the user you are logging in.</td>
</tr>
<tr>
<td>user_token</td>
<td>Single-use user token.</td>
</tr>
<tr>
<td>case_id</td>
<td>The ID of the case you want to see.</td>
</tr>
</tbody></table>

<aside class="notice">
If you send the user to the iframe with an invalid token the user will be asked to login.  No errors will be raised.
</aside>

          <h1 id="errors">Errors</h1>

<aside class="notice">Some of the errors you may find:</aside>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; We don&rsquo;t know what&rsquo;s wrong, but it&rsquo;s probably your fault.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Bad or expired access token.</td>
</tr>
<tr>
<td>402</td>
<td>Case could not be accepted at this time. &ndash; But try again soon.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; Wherever you go, there you are. (Unless of course, we give you a 404 error.)</td>
</tr>
<tr>
<td>420</td>
<td>Enhance Your Calm &ndash; Medical marijuana error.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; Our bad.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
