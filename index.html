
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>RubiconMD API</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#grant-types" class="toc-h2 toc-link" data-title="Grant Types">Grant Types</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#basics" class="toc-h1 toc-link" data-title="Basics">Basics</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#limit" class="toc-h2 toc-link" data-title="Limit">Limit</a>
                  </li>
                  <li>
                    <a href="#paginators" class="toc-h2 toc-link" data-title="Paginators">Paginators</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#provider-cases" class="toc-h1 toc-link" data-title="Provider Cases">Provider Cases</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-provider-cases" class="toc-h2 toc-link" data-title="Get All Provider Cases">Get All Provider Cases</a>
                  </li>
                  <li>
                    <a href="#get-a-specific-provider-case" class="toc-h2 toc-link" data-title="Get a Specific Provider Case">Get a Specific Provider Case</a>
                  </li>
                  <li>
                    <a href="#create-a-new-provider-case" class="toc-h2 toc-link" data-title="Create a New Provider Case">Create a New Provider Case</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#case-referrals" class="toc-h1 toc-link" data-title="Case Referrals">Case Referrals</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-case-referrals" class="toc-h2 toc-link" data-title="Get All Case Referrals">Get All Case Referrals</a>
                  </li>
                  <li>
                    <a href="#get-a-specific-case-referral" class="toc-h2 toc-link" data-title="Get a Specific Case Referral">Get a Specific Case Referral</a>
                  </li>
                  <li>
                    <a href="#accept-reject-a-specific-case" class="toc-h2 toc-link" data-title="Accept / Reject a Specific Case">Accept / Reject a Specific Case</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#case-responses" class="toc-h1 toc-link" data-title="Case Responses">Case Responses</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-responses" class="toc-h2 toc-link" data-title="Get All Responses">Get All Responses</a>
                  </li>
                  <li>
                    <a href="#get-a-specific-response" class="toc-h2 toc-link" data-title="Get a Specific Response">Get a Specific Response</a>
                  </li>
                  <li>
                    <a href="#post-a-response" class="toc-h2 toc-link" data-title="Post a Response">Post a Response</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#images" class="toc-h1 toc-link" data-title="Images">Images</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-images-of-a-case" class="toc-h2 toc-link" data-title="Get All Images of a case">Get All Images of a case</a>
                  </li>
                  <li>
                    <a href="#post-an-image" class="toc-h2 toc-link" data-title="Post an Image">Post an Image</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#members" class="toc-h1 toc-link" data-title="Members">Members</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#index" class="toc-h2 toc-link" data-title="Index">Index</a>
                  </li>
                  <li>
                    <a href="#show" class="toc-h2 toc-link" data-title="Show">Show</a>
                  </li>
                  <li>
                    <a href="#create" class="toc-h2 toc-link" data-title="Create">Create</a>
                  </li>
                  <li>
                    <a href="#update" class="toc-h2 toc-link" data-title="Update">Update</a>
                  </li>
                  <li>
                    <a href="#destroy" class="toc-h2 toc-link" data-title="Destroy">Destroy</a>
                  </li>
                  <li>
                    <a href="#consult" class="toc-h2 toc-link" data-title="Consult">Consult</a>
                  </li>
                  <li>
                    <a href="#batch-upload" class="toc-h2 toc-link" data-title="Batch Upload">Batch Upload</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#users" class="toc-h1 toc-link" data-title="Users">Users</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#user-information" class="toc-h2 toc-link" data-title="User Information">User Information</a>
                  </li>
                  <li>
                    <a href="#creating-users" class="toc-h2 toc-link" data-title="Creating Users">Creating Users</a>
                  </li>
                  <li>
                    <a href="#reviewers" class="toc-h2 toc-link" data-title="Reviewers">Reviewers</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#legal-documents" class="toc-h1 toc-link" data-title="Legal Documents">Legal Documents</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#index-2" class="toc-h2 toc-link" data-title="index">index</a>
                  </li>
                  <li>
                    <a href="#show-2" class="toc-h2 toc-link" data-title="show">show</a>
                  </li>
                  <li>
                    <a href="#sign" class="toc-h2 toc-link" data-title="sign">sign</a>
                  </li>
                  <li>
                    <a href="#accessing-documents-by-type" class="toc-h2 toc-link" data-title="Accessing documents by type">Accessing documents by type</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#iframe" class="toc-h1 toc-link" data-title="iFrame">iFrame</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#iframe-url-calls" class="toc-h2 toc-link" data-title="iFrame URL calls">iFrame URL calls</a>
                  </li>
                  <li>
                    <a href="#obtaining-a-user-token" class="toc-h2 toc-link" data-title="Obtaining a user token">Obtaining a user token</a>
                  </li>
                  <li>
                    <a href="#auto-login-amp-display-case" class="toc-h2 toc-link" data-title="Auto-login &amp; Display case">Auto-login &amp; Display case</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='http://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<aside class="warning">
The requests presented on this API documentation are for our live **production environment**. For development and testing, it is recommended to use our **sandbox environment**.
</aside>

<table><thead>
<tr>
<th>Server</th>
<th>URL</th>
</tr>
</thead><tbody>
<tr>
<td><strong>Sandbox:</strong></td>
<td><code>https://demo.rubiconmd.com</code></td>
</tr>
<tr>
<td><strong>Production:</strong></td>
<td><code>https://rubiconmd.com</code></td>
</tr>
</tbody></table>
<h1 id='authentication'>Authentication</h1>
<blockquote>
<p>The RubiconMD server authenticates via the use of access tokens. <br></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Just a standard HTTP Request</span>
  Note: Be sure to curl using https: when connecting.

<span class="c">## User authentication not required (app has standing permissions from user)</span>
curl -i https://rubiconmd.com/api/v1/oauth/token
 -F <span class="nv">grant_type</span><span class="o">=</span><span class="s2">"standing"</span>
 -F <span class="nv">email</span><span class="o">=</span><span class="s2">"USER_EMAIL_ADDRESS"</span>
 -F <span class="nv">client_id</span><span class="o">=</span><span class="s2">"YOUR_CLIENT_ID"</span>
 -F <span class="nv">client_secret</span><span class="o">=</span><span class="s2">"YOUR_CLIENT_SECRET"</span>

 <span class="c">## User authentication required</span>
 curl -i https://rubiconmd.com/api/v1/oauth/token
 -F <span class="nv">grant_type</span><span class="o">=</span><span class="s2">"client_credentials"</span>
 -F <span class="nv">client_id</span><span class="o">=</span><span class="s2">"YOUR_CLIENT_ID"</span>
 -F <span class="nv">client_secret</span><span class="o">=</span><span class="s2">"YOUR_CLIENT_SECRET"</span>
</code></pre>
<blockquote>
<p>A successful request will return:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AAAAAA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bearer"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">7200</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>RubiconMD uses an OAuth2 workflow for obtaining the access tokens needed for API access.</p>

<p>To make an access token request, valid API keys are required. To request or cycle your API keys, please contact <a href="mailto:%20michael@rubiconmd.com?Subject=Rubicon%20API%20Keys">Michael</a>.</p>

<p>RubiconMD API requires a valid access token to be included within the parameters for all API requests to the server:</p>

<p><code>?access_token=&quot;AAAAAA&quot;</code></p>

<aside class="notice">
For security, all access_tokens expire in two hours.
</aside>
<h3 id='grant-types'>Grant Types</h3>
<p><code>standing</code>: If you are making a request on behalf of a user that has granted standing access to your application (if you created the user, such permissions are granted by default), then this grant type will return an access token that will be sufficient to make requests that user to authenticate on the RubiconMD site.</p>

<p><code>client_credentials</code>: This will return a token that can be used for making queries that do not require a user to be logged in. This includes OAuth2-type queries where the user authenticates on the RubiconMD site, then is redirected back to your site with a valid_access token for making API calls on the user&#39;s behalf.</p>
<h1 id='basics'>Basics</h1>
<p>Here are some basic tools you can use with all API calls.</p>
<h2 id='limit'>Limit</h2>
<aside class="warning">
  The limit parameter has been deprecated -- it was just too limit-ed. Please use `per_page`, instead.
</aside>
<h2 id='paginators'>Paginators</h2><pre class="highlight shell tab-shell"><code>curl -i https://rubiconmd.com/api/v1/provider_cases?access_token<span class="o">=</span><span class="s2">"AAAAAA"</span>&amp;per_page<span class="o">=</span>15&amp;page<span class="o">=</span>2
</code></pre>
<p>You can use the <code>per_page</code> and <code>page</code> parameters to paginate results. If neither parameter is provided, all records will be returned by default.</p>

<aside class="success">
Using pagination greatly increases response times and is highly recommended.
</aside>
<h3 id='per_page'>per_page</h3>
<p>Returns the specified number of records per page.</p>

<aside class="notice">
  For all endpoints, the default number of records `per_page` is 25. If a `per_page` parameter is passed without a `page` parameter, the server will return just the first page by default.
</aside>
<h3 id='page'>page</h3>
<p>Returns the specified page of records. If, for example, you only want to retrieve records 16-30, passing <code>?per_page=15&amp;page=2</code> as parameters would give you just those records.</p>
<h3 id='header-fields'>Header fields</h3>
<p>Using one or both of the pagination parameters will add some useful header fields to the server response, including:</p>

<ul>
<li><code>Total</code> - total number of records available</li>
<li><code>Per-Page</code> - number of records being returned per page</li>
<li><code>Link</code> - the API endpoints (as full URLs) to call for retrieving the next and previous pages of results</li>
</ul>
<h1 id='provider-cases'>Provider Cases</h1>
<p>Provider Cases are created by a user that is seeking a specialist response to the case.</p>
<h2 id='get-all-provider-cases'>Get All Provider Cases</h2><pre class="highlight shell tab-shell"><code>curl -i https://rubiconmd.com/api/v1/provider_cases?access_token<span class="o">=</span><span class="s2">"AAAAAA"</span>
</code></pre>
<blockquote>
<p>A successful request returns the following:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10071849</span><span class="p">,</span><span class="w">
    </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"opened"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Victim bleeding from pores... possibly Red Death?"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">888</span><span class="p">,</span><span class="w">
    </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"assigned"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Is it possible to have a case of Rocky Mountain Spotted Fever occur in the Appalachians and with stripes?"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves all the provider case for the authenticated user.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://rubiconmd.com/api/v1/provider_cases?access_token=&quot;AAAAAA&quot;</code></p>
<h3 id='query-optional-parameters'>Query Optional Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>state</td>
<td>Only returns cases of the specified state. Possible options: assigned, accepted, declined, awaiting_review, need_specialist_reply, need_pcp_reply, closed</td>
</tr>
<tr>
<td>per_page</td>
<td>Number of records to display per_page. <a href="#paginators">Read more.</a></td>
</tr>
<tr>
<td>page</td>
<td>Page to display. <a href="#paginators">Read more.</a></td>
</tr>
</tbody></table>
<h2 id='get-a-specific-provider-case'>Get a Specific Provider Case</h2><pre class="highlight shell tab-shell"><code>curl -i https://rubiconmd.com/api/v1/provider_cases/10071849?access_token<span class="o">=</span><span class="s2">"AAAAAA"</span>
</code></pre>
<blockquote>
<p>A successful request returns the following:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10071849</span><span class="p">,</span><span class="w">
  </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accepted"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Victim bleeding from pores... possibly Red Death?"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1842-05-15T15:33:44.220-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1842-05-15T15:45:56.440-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"assigned_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1842-05-15T15:33:46.774-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"accepted_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1842-05-15T15:45:56.430-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"patient_age"</span><span class="p">:</span><span class="w"> </span><span class="mi">33</span><span class="p">,</span><span class="w">
  </span><span class="s2">"patient_gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Male"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"differential_diagnosis"</span><span class="p">:</span><span class="w"> </span><span class="s2">"If not Red Death, maybe Telltale Heart Disease?"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"medical_history"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lots of partying and excessive drinking."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"medications"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Amontillado"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"symptoms"</span><span class="p">:</span><span class="w"> </span><span class="s2">"convulsions, bloody sweat, seeing masked illusions."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"labs"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint will return the JSON data about a specific case.</p>

<aside class="notice">
 Make sure to replace `CASE_ID` with the actual ID of the case you want to look up.
</aside>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET https://rubiconmd.com/api/v1/provider_cases/CASE_ID?access_token=&quot;AAAAAA&quot;</code></p>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>CASE_ID</td>
<td>The ID of the case to retrieve</td>
</tr>
</tbody></table>
<h2 id='create-a-new-provider-case'>Create a New Provider Case</h2><pre class="highlight shell tab-shell"><code>curl -X POST
  -H <span class="s2">"Content-Type: application/json"</span>
  -d <span class="s1">'{"provider_case":{"question":"Victim bleeding from pores... possibly Red Death?","patient_birthdate": "2009-01-19","patient_gender": "Male","patient_first_name":"P.","patient_middle_name":"N/A","patient_last_name":"Prospero","differential_diagnosis":"If not Red Death, maybe Telltale Heart Disease?","medical_history":"Lots of partying and excessive drinking.","medications":"Amontillado","symptoms":"convulsions, bloody sweat, seeing masked illusions.","labs":"N/A"}}'</span> <span class="s2">"https://rubiconmd.com/api/v1/provider_cases?access_token=AAAAAA"</span>
</code></pre>
<blockquote>
<p>A successful POST request returns a JSON response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10071849</span><span class="p">,</span><span class="w">
  </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accepted"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Victim bleeding from pores... possibly Red Death?"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1842-05-15T15:33:44.220-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1842-05-15T15:45:56.440-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"assigned_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1842-05-15T15:33:46.774-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"accepted_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1842-05-15T15:45:56.430-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"patient_age"</span><span class="p">:</span><span class="w"> </span><span class="mi">33</span><span class="p">,</span><span class="w">
  </span><span class="s2">"patient_gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Male"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"differential_diagnosis"</span><span class="p">:</span><span class="w"> </span><span class="s2">"If not Red Death, maybe Telltale Heart Disease?"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"medical_history"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lots of partying and excessive drinking."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"medications"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Amontillado"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"symptoms"</span><span class="p">:</span><span class="w"> </span><span class="s2">"convulsions, bloody sweat, seeing masked illusions."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"labs"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST https://rubiconmd.com/api/v1/provider_cases/ {&quot;provider_case&quot;: {&quot;question&quot;: TEXT, &quot;patient_birthdate&quot;: TEXT, &quot;patient_gender&quot;: TEXT, &quot;patient_first_name&quot;: TEXT, &quot;patient_middle_name&quot;: TEXT, &quot;patient_last_name&quot;: TEXT, &quot;differential_diagnosis&quot;: TEXT, &quot;medical_history&quot;: TEXT, &quot;medications&quot;: TEXT, &quot;symptoms&quot;: TEXT, &quot;labs&quot;: TEXT} }</code></p>
<h3 id='url-parameters-2'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>question</td>
<td>The specific question for the specialist to answer.</td>
</tr>
<tr>
<td>patient_birthdate</td>
<td>Patient birthdate. Must be formatted as text: &quot;YYYY-MM-DD&quot;</td>
</tr>
<tr>
<td>patient_gender</td>
<td>Patient gender. Only acceptable values are &quot;Female&quot;,  &quot;Male&quot;, and &quot;Other&quot;.</td>
</tr>
<tr>
<td>patient_first_name</td>
<td>Patient first name.</td>
</tr>
<tr>
<td>patient_middle_name</td>
<td>Patient middle name.</td>
</tr>
<tr>
<td>patient_last_name</td>
<td>Patient last name.</td>
</tr>
<tr>
<td>differential_diagnosis</td>
<td>Physician thoughts/plans.</td>
</tr>
<tr>
<td>medical_history</td>
<td>Patient relevant prior medical history.</td>
</tr>
<tr>
<td>medications</td>
<td>Patient medications.</td>
</tr>
<tr>
<td>symptoms</td>
<td>Patient current presentation.</td>
</tr>
<tr>
<td>labs</td>
<td>Lab results.</td>
</tr>
</tbody></table>
<h1 id='case-referrals'>Case Referrals</h1>
<p>Case Referrals are the de-identified cases received by a specialist. Only users that are specialists can access Case Referrals.</p>
<h2 id='get-all-case-referrals'>Get All Case Referrals</h2><pre class="highlight shell tab-shell"><code>curl -i https://rubiconmd.com/api/v1/referrals?access_token<span class="o">=</span><span class="s2">"AAAAAA"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">37</span><span class="p">,</span><span class="w">
    </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accepted"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Does this look deadly?"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w">
    </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"need_pcp_reply"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Is this Lupus?"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint returns all the <code>Consults</code> tied to <code>Assignments</code> a specialist has participated on as individual or as a <code>Specialist Panel</code> member, given that the assignments are not in <code>revoked</code>, <code>time_out</code> or <code>declined</code> state. Will include also consults in <code>timed_out</code> and <code>declined</code> states if the <code>Specialist</code> had written a <code>Response</code> for them.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>GET https://rubiconmd.com/api/v1/referrals?access_token=&quot;AAAAAA&quot;</code></p>
<h3 id='query-optional-parameters-2'>Query Optional Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>state</td>
<td>Gets pending cases with a particular state.</td>
</tr>
<tr>
<td>per_page</td>
<td>Number of records to display per_page. <a href="#paginators">Read more.</a></td>
</tr>
<tr>
<td>page</td>
<td>Page to display. <a href="#paginators">Read more.</a></td>
</tr>
</tbody></table>

<p><strong>states:</strong> assigned, accepted, declined, awaiting_review, need_specialist_reply, need_pcp_reply, closed</p>
<h2 id='get-a-specific-case-referral'>Get a Specific Case Referral</h2><pre class="highlight shell tab-shell"><code>curl -i https://rubiconmd.com/api/v1/referrals/57?access_token<span class="o">=</span><span class="s2">"AAAAAA"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">57</span><span class="p">,</span><span class="w">
  </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accepted"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Is this normal?"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-07-15T15:33:44.220-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-07-15T15:45:56.440-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"assigned_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-07-15T15:33:46.774-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"accepted_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-07-15T15:45:56.430-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"patient_age"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w">
  </span><span class="s2">"patient_gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Female"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"differential_diagnosis"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is my Differential Diagnosis."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"medical_history"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A long one."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"medications"</span><span class="p">:</span><span class="w"> </span><span class="s2">"None that you should know."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"symptoms"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Feels bad."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"labs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cholesterol levels are fine."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint will return the JSON data about a specific case.</p>

<aside class="notice">
 Make sure to replace `CASE_ID` with the actual ID of the case you want to look up.
</aside>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>GET https://rubiconmd.com/api/v1/referrals/CASE_ID?access_token=&quot;AAAAAA&quot;</code></p>
<h3 id='url-parameters-3'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>CASE_ID</td>
<td>The ID of the case to retrieve</td>
</tr>
</tbody></table>
<h2 id='accept-reject-a-specific-case'>Accept / Reject a Specific Case</h2><pre class="highlight shell tab-shell"><code>curl -i https://rubiconmd.com/api/v1/referrals/57/reject?access_token<span class="o">=</span><span class="s2">"AAAAAA"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">57</span><span class="p">,</span><span class="w">
  </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"declined"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Is this normal?"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-07-15T15:33:44.220-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-07-15T15:45:56.440-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"assigned_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-07-15T15:33:46.774-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"accepted_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-07-15T15:45:56.430-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"patient_age"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w">
  </span><span class="s2">"patient_gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Female"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"differential_diagnosis"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is my Differential Diagnosis."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"medical_history"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A long one."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"medications"</span><span class="p">:</span><span class="w"> </span><span class="s2">"None that you should know."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"symptoms"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Feels bad."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"labs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cholesterol levels are fine."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint allows you to accept or turn down a specific case.</p>

<aside class="success">
When a case is accepted, a successful call will return the JSON data about the case. A successful rejected case call will return: {message: "The case was successfully rejected."}
</aside>

<aside class="warning">
An unsuccessful call will return a **402** and an error message:
{"error":"This case could not be accepted at this time."}
</aside>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>GET https://rubiconmd.com/api/v1/rubiconmdeferrals/CASE_ID/ACTION?access_token=&quot;AAAAAA&quot;</code></p>
<h3 id='url-parameters-4'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>CASE_ID</td>
<td>The ID of the case to retrieve</td>
</tr>
<tr>
<td>ACTION</td>
<td>Accepts or rejects a case.</td>
</tr>
</tbody></table>

<p><strong>Actions:</strong> accept, reject</p>
<h1 id='case-responses'>Case Responses</h1><h2 id='get-all-responses'>Get All Responses</h2><pre class="highlight shell tab-shell"><code>curl -i https://rubiconmd.com/api/v1/referrals/63/responses?access_token<span class="o">=</span><span class="s2">"AAAAAA"</span>

curl -i https://rubiconmd.com/api/v1/provider_cases/63/responses?access_token<span class="o">=</span><span class="s2">"AAAAAA"</span>
</code></pre>
<blockquote>
<p>A successful request returns an array of JSON responses:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
    </span><span class="s2">"case_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">63</span><span class="p">,</span><span class="w">
    </span><span class="s2">"specialist_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
    </span><span class="s2">"body"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is where you put the specialist text response."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-12T14:11:38.554-04:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"purpose"</span><span class="p">:</span><span class="w"> </span><span class="s2">"specialist_opinion"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"need_reply"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w">
  </span><span class="s2">"case_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">63</span><span class="p">,</span><span class="w">
  </span><span class="s2">"specialist_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"body"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is a pcp response."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-12T14:19:33.554-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"purpose"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pcp_reply"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"need_reply"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Retrieves all the responses associated with a specific case.</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>GET https://rubiconmd.com/api/v1/referrals/CASE_ID/responses?access_token=&quot;AAAAAA&quot;</code></p>

<p>or</p>

<p><code>GET https://rubiconmd.com/api/v1/provider_cases/CASE_ID/responses?access_token=&quot;AAAAAA&quot;</code></p>
<h3 id='url-parameters-5'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>CASE_ID</td>
<td>The ID of the case to retrieve</td>
</tr>
</tbody></table>
<h3 id='response-fields'>Response Fields</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>ID # of response</td>
</tr>
<tr>
<td>case_id</td>
<td>ID # of associated case</td>
</tr>
<tr>
<td>specialist_id</td>
<td>ID # of specialist that made the response (if user was a provider, this value will be nil)</td>
</tr>
<tr>
<td>body</td>
<td>The text of the response</td>
</tr>
<tr>
<td>created_at</td>
<td>Time response was created</td>
</tr>
<tr>
<td>purpose</td>
<td>Either &#39;pcp_comment&#39; or &#39;specialist_reply&#39;</td>
</tr>
<tr>
<td>need_reply</td>
<td>Boolean value dictating whether or not creator needed a reply to the response</td>
</tr>
</tbody></table>
<h2 id='get-a-specific-response'>Get a Specific Response</h2><pre class="highlight shell tab-shell"><code>curl -i https://rubiconmd.com/api/v1/referrals/63/responses/17?access_token<span class="o">=</span><span class="s2">"AAAAAA"</span>

curl -i https://rubiconmd.com/api/v1/provider_cases/63/responses/17?access_token<span class="o">=</span><span class="s2">"AAAAAA"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">17</span><span class="p">,</span><span class="w">
  </span><span class="s2">"case_id"</span><span class="p">:</span><span class="mi">63</span><span class="p">,</span><span class="w">
  </span><span class="s2">"specialist_id"</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span><span class="w">
  </span><span class="s2">"body"</span><span class="p">:</span><span class="s2">"This is where you put the specialist text response."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2014-04-12T14:11:38.554-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"purpose"</span><span class="p">:</span><span class="s2">"specialist_opinion"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"need_reply"</span><span class="p">:</span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Lookup a specific response by the response&#39;s ID.</p>
<h3 id='http-request-8'>HTTP Request</h3>
<p><code>GET https://rubiconmd.com/api/v1/referrals/CASE_ID/responses/RESPONSE_ID?access_token=&quot;AAAAAA&quot;</code></p>

<p>or</p>

<p><code>GET https://rubiconmd.com/api/v1/provider_cases/CASE_ID/responses/RESPONSE_ID?access_token=&quot;AAAAAA&quot;</code></p>
<h3 id='url-parameters-6'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>CASE_ID</td>
<td>The ID of the case to retrieve</td>
</tr>
<tr>
<td>RESPONSE_ID</td>
<td>The ID of the specific response you want to get</td>
</tr>
</tbody></table>
<h2 id='post-a-response'>Post a Response</h2><pre class="highlight shell tab-shell"><code>curl -X POST
  -H <span class="s2">"Content-Type: application/json"</span>
  -d <span class="s1">'{"response":{"body":"This is where you put the text of the response.","purpose":"specialist_opinion","need_reply":"true"}}'</span> <span class="s2">"https://rubiconmd.com/api/v1/referrals/63/responses?access_token=AAAAAA"</span>

curl -X POST
  -H <span class="s2">"Content-Type: application/json"</span>
  -d <span class="s1">'{"response":{"body":"This is where you put the text of the response.","purpose":"pcp_comment","need_reply":"true"}}'</span> <span class="s2">"https://rubiconmd.com/api/v1/provider_cases/63/responses?access_token=AAAAAA"</span>
</code></pre>
<blockquote>
<p>A successful POST request returns a JSON response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
  </span><span class="s2">"case_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">63</span><span class="p">,</span><span class="w">
  </span><span class="s2">"specialist_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
  </span><span class="s2">"body"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is where you put the text of the response."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-12T14:11:38.554-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"purpose"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pcp_comment"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"need_reply"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This allows you post a response in a specific case (as a specialist). It also returns your response.</p>
<h3 id='http-request-9'>HTTP Request</h3>
<p><code>POST https://rubiconmd.com/api/v1/referrals/CASE_ID/responses/ {&quot;response&quot;: {&quot;body&quot;: TEXT, &quot;purpose&quot;: &quot;specialist_opinion&quot;, &quot;need_reply&quot;: BOOLEAN} }</code></p>

<p>or</p>

<p><code>POST https://rubiconmd.com/api/v1/provider_cases/CASE_ID/responses/ {&quot;response&quot;: {&quot;body&quot;: TEXT, &quot;purpose&quot;: &quot;pcp_comment&quot;, &quot;need_reply&quot;: BOOLEAN} }</code></p>
<h3 id='url-parameters-7'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>CASE_ID</td>
<td>The ID of the case you want to respond to</td>
</tr>
<tr>
<td>body</td>
<td>TEXT field with your response</td>
</tr>
<tr>
<td>purpose</td>
<td>&quot;specialist_opinion&quot; or &quot;pcp_comment&quot;</td>
</tr>
<tr>
<td>need_reply</td>
<td>BOOLEAN field, set to true if a reply is required from the provider/specialist</td>
</tr>
</tbody></table>

<aside class="notice">
The server will return an "unprocessable entity" HTTP response if the purpose does not match the user type (e.g., the user is a provider but the purpose is "specialist_reply").
</aside>
<h1 id='images'>Images</h1><h2 id='get-all-images-of-a-case'>Get All Images of a case</h2><pre class="highlight shell tab-shell"><code>curl -i https://rubiconmd.com/api/v1/provider_cases/CASE_ID/attachments?access_token<span class="o">=</span><span class="s2">"AAAAAA"</span>
</code></pre>
<blockquote>
<p>A successful request returns an array of JSON responses:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zhy7"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"image_file_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ee83c9baf45b73138bc6c771a.jpg"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"image_file_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">73260</span><span class="p">,</span><span class="w">
  </span><span class="s2">"image_content_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image/jpg"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-12T14:11:38.554-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-07-15T15:45:56.440-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"removable"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"original"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://rubicon.s3.amazonaws.com/attachments/images/000/000/000/original/ee83c9baf45b73138bc6c771a.jpg?"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"large"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://rubicon.s3.amazonaws.com/attachments/images/000/000/000/large/ee83c9baf45b73138bc6c771a.jpg?"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"thumb_340"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://rubicon.s3.amazonaws.com/attachments/images/000/000/000/thumb_340/ee83c9baf45b73138bc6c771a.jpg?"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"thumb_180"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://rubicon.s3.amazonaws.com/attachments/images/000/000/000/thumb_180/ee83c9baf45b73138bc6c771a.jpg?"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"response_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Retrieves all the images associated with a specific case.</p>
<h3 id='http-request-10'>HTTP Request</h3>
<p><code>GET https://rubiconmd.com/api/v1/provider_cases/CASE_ID/attachments?access_token=AAAAAA</code></p>
<h3 id='url-parameters-8'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>CASE_ID</td>
<td>The ID of the case to retrieve</td>
</tr>
</tbody></table>
<h3 id='response-fields-2'>Response Fields</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>ID # of image</td>
</tr>
<tr>
<td>image_file_name</td>
<td>Encrypted name of the file</td>
</tr>
<tr>
<td>image_file_size</td>
<td>Size of the file</td>
</tr>
<tr>
<td>image_content_type</td>
<td>The type of file</td>
</tr>
<tr>
<td>created_at</td>
<td>Time image was created</td>
</tr>
<tr>
<td>updated_at</td>
<td>Time image was updated</td>
</tr>
<tr>
<td>removable</td>
<td>Whether or not the image can be deleted</td>
</tr>
<tr>
<td>original</td>
<td>URL of the original image</td>
</tr>
<tr>
<td>large</td>
<td>URL of the large size image</td>
</tr>
<tr>
<td>thumb_340</td>
<td>URL of the thumb sized(340px) image</td>
</tr>
<tr>
<td>thumb_180</td>
<td>URL of the thumb sized(180px) image</td>
</tr>
<tr>
<td>response_id</td>
<td>Response ID of response attached to the image</td>
</tr>
</tbody></table>
<h2 id='post-an-image'>Post an Image</h2><pre class="highlight shell tab-shell"><code>curl -X POST
  -H <span class="s2">"Origin: https://rubiconmd.com"</span>
  -F <span class="s2">"attachment[image]=@/path/filename.ext"</span> <span class="s2">"https://rubiconmd.com/api/v1/provider_cases/A-9AGj/attachments?access_token=AAAAAA"</span>
</code></pre>
<blockquote>
<p>A successful POST request returns a JSON response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zhy7"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"image_file_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ee83c9baf45b73138bc6c771a.jpg"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"image_file_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">73260</span><span class="p">,</span><span class="w">
  </span><span class="s2">"image_content_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image/jpg"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-12T14:11:38.554-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-07-15T15:45:56.440-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"removable"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"original"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://rubicon.s3.amazonaws.com/attachments/images/000/000/000/original/ee83c9baf45b73138bc6c771a.jpg?"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"large"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://rubicon.s3.amazonaws.com/attachments/images/000/000/000/large/ee83c9baf45b73138bc6c771a.jpg?"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"thumb_340"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://rubicon.s3.amazonaws.com/attachments/images/000/000/000/thumb_340/ee83c9baf45b73138bc6c771a.jpg?"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"thumb_180"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://rubicon.s3.amazonaws.com/attachments/images/000/000/000/thumb_180/ee83c9baf45b73138bc6c771a.jpg?"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"response_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This allows you post an image in a specific case (as a pcp).</p>
<h3 id='http-request-11'>HTTP Request</h3>
<p><code>POST https://rubiconmd.com/api/v1/provider_cases/CASE_ID/attachments?access_token=AAAAAA</code></p>
<h3 id='url-parameters-9'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>CASE_ID</td>
<td>The ID of the case you want to upload to</td>
</tr>
</tbody></table>
<h1 id='members'>Members</h1>
<p>Operate over the members of a Client Organization</p>

<aside class="notice">
  All calls to this endpoint require the client_organization_id of those members to be sent
</aside>
<h2 id='index'>Index</h2>
<p><code>GET https://rubiconmd.com/api/v1/members?access_token=AAAAAA&amp;client_organization_id=ID</code></p>
<pre class="highlight shell tab-shell"><code>curl -i https://rubiconmd.com/api/v1/members?access_token<span class="o">=</span>AAAAAA&amp;client_organization_id<span class="o">=</span>ID
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"uid"</span><span class="p">:</span><span class="s2">"1231231"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"first_name"</span><span class="p">:</span><span class="s2">"Franklin"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_name"</span><span class="p">:</span><span class="s2">"McAwesome"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"gender"</span><span class="p">:</span><span class="s2">"male"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"date_of_birth"</span><span class="p">:</span><span class="s2">"12/12/1959"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="s2">"email@domain.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"race"</span><span class="p">:</span><span class="s2">"asian"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone_number"</span><span class="p">:</span><span class="s2">"555-18000-YEAH"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"insurance"</span><span class="p">:</span><span class="s2">"insurance info"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"location"</span><span class="p">:</span><span class="s2">"with waldo"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"uid"</span><span class="p">:</span><span class="s2">"21231231"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"first_name"</span><span class="p">:</span><span class="s2">"Jenny"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_name"</span><span class="p">:</span><span class="s2">"McDoe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"gender"</span><span class="p">:</span><span class="s2">"female"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"date_of_birth"</span><span class="p">:</span><span class="s2">"1/12/1987"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="s2">"another_email@domain.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"race"</span><span class="p">:</span><span class="s2">"caucasian"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone_number"</span><span class="p">:</span><span class="s2">"555-1800-HOWDY"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"insurance"</span><span class="p">:</span><span class="s2">"insurance info"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"location"</span><span class="p">:</span><span class="s2">"with waldo"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h2 id='show'>Show</h2>
<aside class="notice">
  Use the member UID/MRN as MEMBER_UID field for lookup
</aside>

<p><code>GET https://rubiconmd.com/api/v1/member/MEMBER_UID?access_token=AAAAAA&amp;client_organization_id=ID</code></p>
<pre class="highlight shell tab-shell"><code>curl -i https://rubiconmd.com/api/v1/member/1231231?access_token<span class="o">=</span>AAAAAA&amp;client_organization_id<span class="o">=</span>ID
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"uid"</span><span class="p">:</span><span class="s2">"1231231"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"first_name"</span><span class="p">:</span><span class="s2">"Franklin"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"last_name"</span><span class="p">:</span><span class="s2">"McAwesome"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"gender"</span><span class="p">:</span><span class="s2">"male"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"date_of_birth"</span><span class="p">:</span><span class="s2">"12/12/1959"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="s2">"email@domain.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"race"</span><span class="p">:</span><span class="s2">"asian"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone_number"</span><span class="p">:</span><span class="s2">"555-18000-YEAH"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"insurance"</span><span class="p">:</span><span class="s2">"insurance info"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"location"</span><span class="p">:</span><span class="s2">"with waldo"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='create'>Create</h2>
<aside class="notice">
  Use the member UID/MRN as MEMBER_UID field for lookup
</aside>

<p><code>POST https://rubiconmd.com/api/v1/member/MEMBER_UID?access_token=AAAAAA&amp;client_organization_id=ID/ {&quot;member&quot;: {
  &quot;uid&quot;: TEXT,
  &quot;first_name&quot;: TEXT,
  &quot;last_name&quot;: TEXT,
  &quot;gender&quot;: TEXT,
  &quot;date_of_birth&quot;: TEXT,
  &quot;email&quot;: TEXT,
  &quot;race&quot;: TEXT,
  &quot;phone_number&quot;: TEXT,
  &quot;insurance&quot;: TEXT,
  &quot;location&quot;: TEXT
  }
}</code></p>
<pre class="highlight shell tab-shell"><code>curl -X POST
  -H <span class="s2">"Content-Type: application/json"</span>
  -d <span class="s1">'{"member": {"uid":"1231231", "first_name":"Franklin", "last_name":"McAwesome", "gender":"male", "date_of_birth":"12/12/1959", "email":"email@domain.com", "race":"asian", "phone_number":"555-18000-YEAH", "insurance":"insurance info", "location":"with waldo"}}'</span> <span class="s2">"https://rubiconmd.com/api/v1/member/MEMBER_UID?access_token=AAAAAA&amp;client_organization_id=ID"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"uid"</span><span class="p">:</span><span class="s2">"1231231"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"first_name"</span><span class="p">:</span><span class="s2">"Franklin"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"last_name"</span><span class="p">:</span><span class="s2">"McAwesome"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"gender"</span><span class="p">:</span><span class="s2">"male"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"date_of_birth"</span><span class="p">:</span><span class="s2">"12/12/1959"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="s2">"email@domain.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"race"</span><span class="p">:</span><span class="s2">"asian"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone_number"</span><span class="p">:</span><span class="s2">"555-18000-YEAH"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"insurance"</span><span class="p">:</span><span class="s2">"insurance info"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"location"</span><span class="p">:</span><span class="s2">"with waldo"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='update'>Update</h2>
<aside class="notice">
  <ul>
    <li>Use the member UID/MRN as MEMBER_UID field for lookup</li>
    <li>The UID/MRN field won't be updated, as it is used for lookup.</li>
    <li>All fields are required!</li>
  </ul>
</aside>

<p><code>PUT https://rubiconmd.com/api/v1/member/MEMBER_UID?access_token=&quot;AAAAAA&quot;&amp;client_organization_id=&quot;ID&quot;/ {&quot;member&quot;: {
  &quot;uid&quot;: TEXT,
  &quot;first_name&quot;: TEXT,
  &quot;last_name&quot;: TEXT,
  &quot;gender&quot;: TEXT,
  &quot;date_of_birth&quot;: TEXT,
  &quot;email&quot;: TEXT,
  &quot;race&quot;: TEXT,
  &quot;phone_number&quot;: TEXT,
  &quot;insurance&quot;: TEXT,
  &quot;location&quot;: TEXT
  }
}</code></p>
<pre class="highlight shell tab-shell"><code>curl -X PUT
  -H <span class="s2">"Content-Type: application/json"</span>
  -d <span class="s1">'{"member": {"uid":"1231231", "first_name":"Johann", "last_name":"McAwesome", "gender":"male", "date_of_birth":"12/12/1959", "email":"email@domain.com", "race":"asian", "phone_number":"555-18000-YEAH", "insurance":"insurance info", "location":"with waldo"}}'</span> <span class="s2">"https://rubiconmd.com/api/v1/member/MEMBER_UID?access_token=AAAAAA&amp;client_organization_id=ID"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"uid"</span><span class="p">:</span><span class="s2">"1231231"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"first_name"</span><span class="p">:</span><span class="s2">"Johann"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"last_name"</span><span class="p">:</span><span class="s2">"McAwesome"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"gender"</span><span class="p">:</span><span class="s2">"male"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"date_of_birth"</span><span class="p">:</span><span class="s2">"12/12/1959"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="s2">"email@domain.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"race"</span><span class="p">:</span><span class="s2">"asian"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone_number"</span><span class="p">:</span><span class="s2">"555-18000-YEAH"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"insurance"</span><span class="p">:</span><span class="s2">"insurance info"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"location"</span><span class="p">:</span><span class="s2">"with waldo"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='destroy'>Destroy</h2>
<aside class="notice">
  Use the member UID/MRN as MEMBER_UID field for lookup
</aside>

<p><code>DELETE https://rubiconmd.com/api/v1/member/MEMBER_UID?access_token=&quot;AAAAAA&quot;&amp;client_organization_id=&quot;ID&quot;</code></p>
<pre class="highlight shell tab-shell"><code>curl -X DELETE <span class="s2">"https://rubiconmd.com/api/v1/member/MEMBER_UID?access_token=AAAAAA&amp;client_organization_id=ID"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="s2">"Member destroyed successfully"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h2 id='consult'>Consult</h2><pre class="highlight shell tab-shell"><code>curl -i https://rubiconmd.com/api/v1/members/1231231/consult/Pediatric?access_token<span class="o">=</span>AAAAAA&amp;client_organization_id<span class="o">=</span>ID
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this if the patient has <strong>one</strong> consult for that specialty</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A-DlHy"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"assigned_to_specialist"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Non esse iste. Possimus qui sit ut eveniet natus et. Vitae tempore velit at. Eligendi blanditiis dolor dolorem quidem iure asperiores. Fugiat eligendi autem distinctio sed vel."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-28T13:35:29.758-05:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">,</span><span class="w">
  </span><span class="s2">"last_response"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="s2">"question_data"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">,</span><span class="w">
  </span><span class="s2">"marked_urgent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"submitted_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">,</span><span class="w">
  </span><span class="s2">"purpose"</span><span class="p">:</span><span class="w"> </span><span class="s2">"question"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"assigned_on"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">,</span><span class="w">
  </span><span class="s2">"accepted_on"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">,</span><span class="w">
  </span><span class="s2">"resultable"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"schedulable"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"specialty_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DlGy"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"specialty_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Specialty 1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"specialty_category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rugby"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"show_survey"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"closable"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reviewer_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">,</span><span class="w">
  </span><span class="s2">"original_consult_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">,</span><span class="w">
  </span><span class="s2">"patient_first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kirstin"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"patient_middle_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lavinia"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"patient_last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Carroll"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"patient_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1231231"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"patient_language"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">,</span><span class="w">
  </span><span class="s2">"patient_phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">,</span><span class="w">
  </span><span class="s2">"patient_email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-28T13:35:29.705-05:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"patient_age"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"patient_birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2003-05-06 14:48:36 +0200"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"patient_gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Female"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"patient_gender_info"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">,</span><span class="w">
  </span><span class="s2">"patient_location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"primary care clinic"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"differential_diagnosis"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ea eum ex. Est ea odit labore nesciunt id architecto. Architecto quas quidem voluptatem sed eius cum. Maiores excepturi numquam est voluptas. Sunt dicta enim eum."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"medications"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ut asperiores inventore iste voluptate ut autem. Architecto odio corporis repudiandae molestiae. Non non suscipit reprehenderit aut. Eum in et qui ipsam rerum."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"medical_history"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sit ut voluptatem iusto et alias. Quo ut iure. Explicabo laudantium voluptatem illum eius. Eius qui explicabo. Ex voluptates error."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"symptoms"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Id labore sunt odit autem. Suscipit ut et modi distinctio dolor. Officiis eveniet at suscipit itaque numquam et. Rerum at aut dolor quae cumque adipisci tempore."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"labs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dignissimos nobis accusamus optio voluptatem accusantium non voluptatem. Quis adipisci est nihil voluptatibus porro aut necessitatibus. Laborum consequatur fuga. Non a corrupti cumque distinctio. Blanditiis explicabo rerum."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"clonable"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"transferrable"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">,</span><span class="w">
  </span><span class="s2">"case_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C-DlGy"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"deletable"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"shared"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sharable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"screening_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="s2">"post_consult_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="s2">"editable"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"pcp"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kGPz"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"clinic"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">,</span><span class="w">
    </span><span class="s2">"is_drafter_only"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joelle"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jaskolski"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medical_doctor"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"specialty"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AlGy"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pediatric"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rugby"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"N/A"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"client_organization_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">,</span><span class="w">
    </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bypass_to_scheduling"</span><span class="p">:</span><span class="w"> </span><span class="s2">"never"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"require_review"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"category_abbreviation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OTHR"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight shell tab-shell"><code>curl -i https://rubiconmd.com/api/v1/members/1231231/consult/Pediatric?access_token<span class="o">=</span>AAAAAA&amp;client_organization_id<span class="o">=</span>ID
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this if the patient has <strong>many</strong> consults for that specialty</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A-DlHy"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"assigned_to_specialist"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-28T13:41:07.869-05:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Consequuntur iure et ut voluptas. Porro sed dolorum qui dolorem. Aliquid eaque saepe impedit et perspiciatis."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_response"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="s2">"original_consult_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">,</span><span class="w">
    </span><span class="s2">"consult_unread_alerts_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"differential_diagnosis"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ea culpa deserunt. Maxime voluptate sunt eveniet debitis. Aperiam tenetur sit quae. Perferendis optio reprehenderit amet et velit dignissimos. Maxime non ullam reiciendis."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"labs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aspernatur minima dolorem qui consequatur. Ratione nihil veritatis quisquam earum. Similique quo vitae. Aut est soluta earum consequatur beatae veniam et."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"medical_history"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Voluptatem saepe est velit pariatur qui. Quas delectus et est. In quo omnis. Laudantium officia corrupti et."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"medications"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Necessitatibus pariatur hic facere voluptates. Quos asperiores sit aut voluptate culpa. Distinctio quae laboriosam deleniti."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient_age"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient_birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2007-11-20 19:05:46 +0100"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient_first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Eliseo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient_gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Female"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient_gender_info"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient_last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nikolaus"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1231231"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reviewer_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">,</span><span class="w">
    </span><span class="s2">"submitted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-28T13:36:07.801-05:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"symptoms"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Iusto saepe dignissimos optio dolor beatae. Culpa fugiat ipsa. Ut unde dolores sapiente in. Hic inventore eum praesentium error illo."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"specialty"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dlay"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pediatry"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"football"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_abbreviation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OTHR"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"pcp"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Martin"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Johnson"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kGab"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"clinic"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A-DtGy"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"opened"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-28T13:41:07.689-05:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Eos sint perferendis at earum doloribus nisi et. Enim repudiandae nobis corporis est eum quis. Enim tempora debitis omnis aut. Eos vero in omnis omnis. Voluptatem sit quisquam quos."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_response"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="s2">"original_consult_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">,</span><span class="w">
    </span><span class="s2">"consult_unread_alerts_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"differential_diagnosis"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Vel voluptas aut odit. Inventore quia magni. Ea dolorum est perferendis."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"labs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nihil laudantium officia. Molestiae dolore doloribus. Praesentium sed vel. Deleniti quia quo quaerat quibusdam odio."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"medical_history"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Esse cum sit sint aut exercitationem ut aut. Veniam numquam architecto est reprehenderit voluptatem. Dicta consectetur eveniet quia molestias corrupti enim. Soluta est est placeat labore deserunt. Autem occaecati est."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"medications"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rerum consequatur dicta quasi ullam magnam. Sit ducimus modi deserunt voluptas. Vel rem voluptatum et cumque dicta qui."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient_age"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient_birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1997-03-22 12:41:14 +0100"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient_first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chaz"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient_gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Other"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient_gender_info"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient_last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Homenick"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"patient_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1231231"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reviewer_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">,</span><span class="w">
    </span><span class="s2">"submitted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-28T13:36:07.625-05:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"symptoms"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Soluta delectus ut saepe ut eum debitis voluptatem. Et dolor in tenetur ut et vel impedit. Voluptatem dolor aperiam. Minus ut voluptates modi sed sed. Debitis provident voluptate quos harum a cumque quis."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"specialty"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dlay"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pediatry"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"football"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_abbreviation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OTHR"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"pcp"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Richie"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Grady"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kzsPb"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"clinic"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<aside class="notice">
  Use the member UID/MRN as MEMBER_UID field for lookup
</aside>

<p>Given a <code>member UID/MRN</code>, the <code>client organization</code> and the desired <code>specialty</code> name, brings back the list of consults that the member has for the specialty, if any.</p>

<p><code>GET https://rubiconmd.com/api/v1/members/:uid/consult/:specialty?access_token=AAAAAA&amp;client_organization_id=ID</code></p>

<p><em>Possible outcomes:</em></p>

<table><thead>
<tr>
<th>Problem</th>
<th>Outcomes</th>
</tr>
</thead><tbody>
<tr>
<td>Specialty does not exist</td>
<td> 404 Specialty not found</td>
</tr>
<tr>
<td>Member does not exist</td>
<td>404 Member not found</td>
</tr>
<tr>
<td>Member has no consults for that specialty</td>
<td>404 Could not find consult by that specialty and patient uid</td>
</tr>
<tr>
<td>Member has one consults for that specialty</td>
<td>See right sidebar</td>
</tr>
<tr>
<td>Member has many consults for that specialty</td>
<td>See right sidebar</td>
</tr>
</tbody></table>
<h2 id='batch-upload'>Batch Upload</h2><pre class="highlight shell tab-shell"><code>curl -X POST
  -H <span class="s2">"Content-Type: application/json"</span>
  -d <span class="s1">'{"members":[{"uid": "JIYGN-357-5309","first_name": "Charles","last_name": "Bovary","gender": "Male","date_of_birth": "12/15/1856","email": "devoted.husband@gmail.fr","race": "Norman","phone_number": "555-555-5555","insurance": "self","location": "Tostes","valid_until": "01/15/2018"}]}'</span> <span class="s2">"https://rubiconmd.com/api/v1/members/upload?access_token=AAAAAA"</span>
</code></pre>
<blockquote>
<p>The above command ingests JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JIYGN-867-5309"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Emma"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bovary"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Female"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"date_of_birth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/15/1856"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rouen.girl@gmail.fr"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"race"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Norman"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-555-5555"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"insurance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"officier de santé"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tostes"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"valid_until"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01/15/2018"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JIYGN-637-5309"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rodolphe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boulanger"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Male"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"date_of_birth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/15/1856"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"livin.easy@gmail.fr"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"race"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aristocrat"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-555-5555"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"insurance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"independent wealth"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tostes"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"valid_until"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01/15/2018"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JIYGN-638-6309"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Léon"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dupuis"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Male"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"date_of_birth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/15/1856"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"poetry.lover@gmail.fr"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"race"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Norman"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-555-5555"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"insurance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"grace of God?"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rouen"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"valid_until"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01/15/2018"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves all the members associated with your API client&#39;s organization.</p>
<h3 id='important-notes'>Important Notes</h3>
<ul>
<li><p>All payloads must be formatted in JSON and wrapped with {&quot;members&quot;: [...]}, with the JSON payloads for individual members listed within the array.</p></li>
<li><p>UID is required for each member and must be unique. If two payloads are submitted with the same UID, the payload received later will overwrite the earlier one.</p></li>
<li><p>An access token created using the client_credentials authentication strategy is sufficient for this completing this request (most other tokens should be valid, as well).</p></li>
</ul>
<h3 id='http-request-12'>HTTP Request</h3>
<p><code>POST https://rubiconmd.com/api/v1/members?access_token=&quot;AAAAAA&quot; {&quot;members&quot;:[{&quot;uid&quot;: &quot;JIYGN-357-5309&quot;,&quot;first_name&quot;: &quot;Charles&quot;,&quot;last_name&quot;: &quot;Bovary&quot;,&quot;gender&quot;: &quot;Male&quot;,&quot;date_of_birth&quot;: &quot;12/15/1856&quot;,&quot;email&quot;: &quot;devoted.husband@gmail.fr&quot;,&quot;race&quot;: &quot;Norman&quot;,&quot;phone_number&quot;: &quot;555-555-5555&quot;,&quot;insurance&quot;: &quot;self&quot;,&quot;location&quot;: &quot;Tostes&quot;,&quot;valid_until&quot;: &quot;01/15/2018&quot;}]}</code></p>
<h3 id='query-optional-parameters-3'>Query Optional Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>A unique identifier for the member, such as plan UID or MRN. (required)</td>
</tr>
<tr>
<td>first_name</td>
<td>Member first name. (recommended)</td>
</tr>
<tr>
<td>last_name</td>
<td>Member last name. (recommended)</td>
</tr>
<tr>
<td>gender</td>
<td>Member gender. Preferred values are &#39;Male&#39;, &#39;Female&#39;, or &#39;Transgender&#39;</td>
</tr>
<tr>
<td>date_of_birth</td>
<td>Member birthdate. Should be formated as MM/DD/YYYY. (required)</td>
</tr>
<tr>
<td>email</td>
<td>Member e-mail. (optional)</td>
</tr>
<tr>
<td>race</td>
<td>Member race. Can be combined with ethnicity.</td>
</tr>
<tr>
<td>phone_number</td>
<td>Member contact phone number.</td>
</tr>
<tr>
<td>insurance</td>
<td>Member insurance plan (freetext).</td>
</tr>
<tr>
<td>location</td>
<td>Member current location.</td>
</tr>
<tr>
<td>valid_until</td>
<td>Date that member record is no longer valid, or must be renewed/updated by. Should be formated as MM/DD/YYYY.</td>
</tr>
</tbody></table>

<!--
 ##
 ##
 ## USER INFO
 ##
 ##
-->
<h1 id='users'>Users</h1><h2 id='user-information'>User Information</h2><pre class="highlight shell tab-shell"><code>curl -i https://rubiconmd.com/api/v1/users/me?access_token<span class="o">=</span><span class="s2">"AAAAAA"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span><span class="w">
   </span><span class="s2">"is_specialist"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="s2">"first_name"</span><span class="p">:</span><span class="s2">"Franklin"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"last_name"</span><span class="p">:</span><span class="s2">"McAwesome"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"role"</span><span class="p">:</span><span class="s2">"medical_doctor"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"email"</span><span class="p">:</span><span class="s2">"awesome_specialist@rubiconmd.com"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"organization"</span><span class="p">:</span><span class="s2">"Health Medical Clinic"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"tos_accepted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-01T23:55:10.981-05:00"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"legal_documents"</span><span class="p">:[</span><span class="w">
     </span><span class="p">{</span><span class="w">
       </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kwey"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"purpose"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terms_of_service"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Terms Of Service"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"signed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-01T23:55:10.981-05:00"</span><span class="w">
     </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
       </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DlGy"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"purpose"</span><span class="p">:</span><span class="w"> </span><span class="s2">"specialist_baa"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Specialist Business Associate Agreement"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"signed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null"</span><span class="w">
     </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
       </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hxBn1"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"purpose"</span><span class="p">:</span><span class="w"> </span><span class="s2">"specialist_agreement"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Specialist Agreement"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"signed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="s2">"country"</span><span class="p">:</span><span class="s2">"United States"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"specialties"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="s2">"specialty"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">17</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Electrophysiology"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"category"</span><span class="p">:</span><span class="s2">"Cardiology"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="s2">"specialty"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">24</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"HIV"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"category"</span><span class="p">:</span><span class="s2">"Infectious Diseases"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="s2">"specialty"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">31</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Hand surgery"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"category"</span><span class="p">:</span><span class="s2">"Orthopedic Surgery"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Want to get information about the user you just logged in? This is your endpoint.</p>

<p>The <code>legal_documents</code> array returns the documents that correspond to that user to sign, and their signature date if signed. This is, a null on signed_at means the latest version of the given document is not signed by the user, and the client should handle the signing process.</p>

<p>The <code>privacy_policy</code> document needs no signature from any user, so it won&#39;t be presented in this object. However, it will be accessible via the corresponding endpoints (see <em>Legal Documents</em> section).</p>
<h3 id='http-request-13'>HTTP Request</h3>
<p><code>GET https://rubiconmd.com/api/v1/users/me?access_token=&quot;AAAAAA&quot;</code></p>
<h2 id='creating-users'>Creating Users</h2><pre class="highlight shell tab-shell"><code>curl -X POST
  -H <span class="s2">"Content-Type: application/json"</span>
  -d <span class="s1">'{"user":{"email": "awesome_specialist@rubiconmd.com", "first_name": "Franklin", "last_name": "McAwesome", "role": "medical_doctor"}}'</span> <span class="s2">"https://rubiconmd.com/api/v1/users?access_token=AAAAAA"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"first_name"</span><span class="p">:</span><span class="s2">"Franklin"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"last_name"</span><span class="p">:</span><span class="s2">"McAwesome"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"email"</span><span class="p">:</span><span class="s2">"awesome_specialist@rubiconmd.com"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"role"</span><span class="p">:</span><span class="s2">"medical_doctor"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This allows you to create a new provider for your organization.</p>
<h3 id='http-request-14'>HTTP Request</h3>
<p><code>POST https://rubiconmd.com/api/v1/users/ {&quot;user&quot;: {&quot;email&quot;: TEXT, &quot;first_name&quot;: TEXT, &quot;last_name&quot;: TEXT, &quot;role&quot;: ROLE} }</code></p>
<h3 id='url-parameters-10'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>The e-mail from the user you are creating.</td>
</tr>
<tr>
<td>first_name</td>
<td>First name of the user.</td>
</tr>
<tr>
<td>last_name</td>
<td>Last name of the user.</td>
</tr>
<tr>
<td>role</td>
<td>User&#39;s role. Roles are limited to the following values: &#39;medical_doctor&#39; , &#39;physician_assistant&#39; , &#39;registered_nurse&#39; , &#39;nurse_practitioner&#39;</td>
</tr>
<tr>
<td>per_page</td>
<td>Number of records to display per_page. <a href="#paginators">Read more.</a></td>
</tr>
<tr>
<td>page</td>
<td>Page to display. <a href="#paginators">Read more.</a></td>
</tr>
</tbody></table>
<h2 id='reviewers'>Reviewers</h2><pre class="highlight shell tab-shell"><code>curl -i https://rubiconmd.com/api/v1/users/reviewers?access_token<span class="o">=</span><span class="s2">"AAAAAA"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"zaBgO"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Charles"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bovary"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"devoted.husband@gmail.fr"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9RXXW"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jason"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Awesome"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jason.awesome@gmail.com"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YdgL8"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Megan"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chair"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"megachair@ucsf.edu"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Retrieve all the possible users that can review an eConsult.</p>
<h3 id='http-request-15'>HTTP Request</h3>
<p><code>GET https://rubiconmd.com/api/v1/users/reviewers?access_token=&quot;AAAAAA&quot;</code></p>
<h1 id='legal-documents'>Legal Documents</h1>
<p>These API endpoints allow clients to have knowledge of which legal documents have been signed (accepted) by the user. For example, the &#39;terms of service&#39; or the &#39;specialist agreement&#39;.</p>
<h2 id='index-2'>index</h2>
<p>This endpoint returns the basic information of the documents available to the user making the API call.</p>
<h3 id='http-request-16'> HTTP Request</h3><pre class="highlight shell tab-shell"><code>curl -X GET
  -H <span class="s2">"Content-Type: application/json"</span>
  <span class="s2">"https://rubiconmd.com/api/v1/users/:user_id/legal_documents?access_token=AAAAAA"</span>
</code></pre>
<blockquote>
<p>The above command would return a json like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Terms of Service"</span><span class="p">,</span><span class="w"> </span><span class="s2">"purpose"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terms_of_service"</span><span class="p">,</span><span class="w"> </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DlGy"</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w"> </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Privacy Policy"</span><span class="p">,</span><span class="w"> </span><span class="s2">"purpose"</span><span class="p">:</span><span class="w"> </span><span class="s2">"privacy_policy"</span><span class="p">,</span><span class="w"> </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kwey"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>
<p><code>GET https://rubiconmd.com/api/v1/users/:user_id/legal_documents?access_token=AAAAAA&quot;</code></p>

<aside class="notice">
  The user id is needed in the call, in the `:user_id` segment.
</aside>

<p>The call will return a JSON array with the <code>name</code> of the documents, their <code>id</code> and their <code>purpose</code>. The former two pieces are used to access each individual document.</p>

<p>Differences in the response will reside in:</p>

<ul>
<li>A Specialist will get the latest versions of privacy policy, terms of service, specialist agreement and specialis business associate agreement documents.</li>
<li>An Organization Admin will get the latest versions the privacy policy, terms of service, business associate agreement and the different versions available for organization contracts. Even if several contract versions are listed, the user will only be able to access and sign the contract that suits the configuration of the Organization they belong to.</li>
<li>The rest of users will get the latest versions of the privacy policy and the terms of service.</li>
</ul>
<h2 id='show-2'>show</h2>
<p>This endpoint returns the information for the document related to the <code>id</code> passed in the call.</p>
<h3 id='http-request-17'> HTTP Request</h3><pre class="highlight shell tab-shell"><code>curl -X GET
  -H <span class="s2">"Content-Type: application/json"</span>
  <span class="s2">"https://rubiconmd.com/api/v1/users/:user_id/legal_documents/kwey?access_token=AAAAAA"</span>
</code></pre>
<blockquote>
<p>The above command would return a json like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Privacy Policy"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-11T09:17:10.753-05:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-11T09:17:10.753-05:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kwey"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight shell tab-shell"><code>curl -X GET
  -H <span class="s2">"Content-Type: application/json"</span>
  <span class="s2">"https://rubiconmd.com/api/v1/users/:user_id/legal_documents/DlGy?access_token=AAAAAA"</span>
</code></pre>
<blockquote>
<p>The above command, for a signed document, would return a json like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Terms of Service"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-11T09:17:10.753-05:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-11T09:17:10.753-05:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kwey"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"signed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-01T23:55:10.981-05:00"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET https://rubiconmd.com/api/v1/users/:user_id/legal_documents/:id?access_token=AAAAAA&quot;</code></p>

<aside class="notice">
  The user id is needed in the call, in the `:user_id` segment.
</aside>

<p>The call will return the name of the document, the text of the document in html format so it is easily usable in the views, and other info regarding the time of creation of the document.</p>

<p>If the user has signed the document, it will return the date of when this action was performed.</p>

<p>If the document requested is not accessible by the user (according to the user type) or can not be found, the response will have the <code>422</code> status code and the body will be <code>{error: &#39;Document not available&#39; }</code>.</p>
<h2 id='sign'>sign</h2>
<p>This endpoint allows a user to sign a document.</p>
<h3 id='http-request-18'> HTTP Request</h3><pre class="highlight shell tab-shell"><code>curl -X POST
  -H <span class="s2">"Content-Type: application/json"</span>
  <span class="s2">"https://rubiconmd.com/api/v1/users/:user_id/legal_documents/kwey/sign?access_token=AAAAAA"</span>
</code></pre>
<blockquote>
<p>The above command, for a signed document, would return a json like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Terms of Service"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-11T09:17:10.753-05:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-11T09:17:10.753-05:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kwey"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"signed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-01T23:55:10.981-05:00"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>POST https://rubiconmd.com/api/v1/users/:user_id/legal_documents/:id/sign?access_token=AAAAAA&quot;</code></p>

<aside class="notice">
  The user id is needed in the call, in the `:user_id` segment. The document id is needed as well in the `:id` segment
</aside>

<p>The call will peform an attempt to generate a signature for the document backend side. If the call succeeds, the returned JSON object will be equivalent to the one in the <code>show</code> method, in the case that the user has signed the document.</p>

<p>If the call fails, the response will be a <code>422</code> status code and the body will include the error that prevented the signature from being created. One possible reason for failure is that the user has already signed that document. In this case the json response would be: <code>[&quot;Legal document signer should sign a document only once&quot;]</code></p>

<p>If the document requested is not accessible by the user (according to the user type) or can not be found, the response will have the <code>422</code> status code and the body will be <code>{ error: &#39;Document not available&#39; }</code>.</p>
<h2 id='accessing-documents-by-type'>Accessing documents by type</h2>
<p>To ease work for clients, we&#39;ve enabled the possiblity of accessing and signing the documents directly by their <code>purpose</code>, so the initial call for the index method is not needed.</p>

<p>The available purposes are:</p>

<p>General (<strong>all</strong> users):</p>

<ul>
<li><code>privacy_policy</code></li>
<li><code>terms_of_service</code></li>
</ul>

<p>Right now, all users should have a signature for the <code>terms_of_service</code> document in order to use the platform, and be prompted by the client to sign it if otherwise.</p>

<p>Directed to <strong>Organization admins</strong>:</p>

<ul>
<li><code>contract</code></li>
<li><code>contract_dsa</code></li>
<li><code>baa</code></li>
</ul>

<p>Client Organizations need to have their <code>baa</code> and proper <code>contract</code> signed in order for their users to be able to access the platform. A client can know beforehand which contract should the organization admin sign with the information provided in the <code>users#me</code> endpoint.</p>

<p>Directed to <strong>Specialists</strong>:</p>

<ul>
<li><code>specialist_agreement</code></li>
<li><code>specialist_baa</code></li>
</ul>

<p>Specialists need to have both documents above signed in order to operate in the platform.</p>
<h3 id='http-request-for-accessing-a-document'> HTTP Request for accessing a document</h3>
<p><code>GET https://rubiconmd.com/api/v1/users/:user_id/legal_documents/type/:purpose?access_token=AAAAAA&quot;</code></p>

<p>This call will be equivalent to calling the <code>show</code> method described above in terms of returned objects and error messages.</p>

<p>If the purpose is mistyped on the call or it is not accessible by the user trying to access it, the system will prevent access to that information</p>
<h3 id='http-request-for-signing-a-document'> HTTP Request for signing a document</h3><pre class="highlight shell tab-shell"><code>curl -X POST
  -H <span class="s2">"Content-Type: application/json"</span>
  <span class="s2">"https://rubiconmd.com/api/v1/users/:user_id/legal_documents/type/terms_of_service/sign?access_token=AAAAAA"</span>
</code></pre>
<blockquote>
<p>The above command would return a json like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Terms of Service"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-11T09:17:10.753-05:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-11T09:17:10.753-05:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kwey"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"signed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-01T23:55:10.981-05:00"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>POST https://rubiconmd.com/api/v1/users/:user_id/legal_documents/type/:purpose/sign?access_token=AAAAAA&quot;</code></p>

<p>This call will be equivalent to calling the <code>sign</code> method described above in terms of returned objects and error messages.</p>

<p>If the purpose is mistyped on the call or it is not accessible by the user trying to access it, the system will prevent access to that information.</p>
<h1 id='iframe'>iFrame</h1><h2 id='iframe-url-calls'>iFrame URL calls</h2>
<p>In order to call certain pages of our site through an iFrame, you must first obtain a user token.  It&#39;s a two-step process.</p>

<ol>
<li>Get a user token by curling the token endpoint with the access token.</li>
<li>Append the user token along with user info in the url.</li>
</ol>

<aside class="notice">
User tokens are one-time/single use only.
</aside>
<h2 id='obtaining-a-user-token'>Obtaining a user token</h2>
<p>To get a user token, curl the endpoint with the access token.</p>
<pre class="highlight shell tab-shell"><code>curl -i https://rubiconmd.com/api/v1/users/token?access_token<span class="o">=</span><span class="s2">"AAAAAA"</span>
</code></pre>
<blockquote>
<p>A successful request will return:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"user_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AAAAAA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1302048000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h3 id='http-request-19'>HTTP Request</h3>
<p><code>GET https://rubiconmd.com/api/v1/users/token?access_token=&quot;AAAAAA&quot;</code></p>
<h2 id='auto-login-amp-display-case'>Auto-login &amp; Display case</h2>
<p>Pass users&#39; username, user token, and case id parameters into the URL.
<aside class="warning">Inside HTML code blocks like this one, you can&#39;t use Markdown, so use <code>&lt;code&gt;</code> blocks to denote code.</aside></p>
<h3 id='http-request-20'>HTTP Request</h3>
<p><code>GET https://rubiconmd.com/pcp_iframe?user_username=EMAIL&amp;user_token=TOKEN&amp;case_id=CASE_ID</code></p>
<h3 id='url-parameters-11'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>The e-mail of the user you are logging in.</td>
</tr>
<tr>
<td>user_token</td>
<td>Single-use user token.</td>
</tr>
<tr>
<td>case_id</td>
<td>The ID of the case you want to see.</td>
</tr>
</tbody></table>

<aside class="notice">
If you send the user to the iframe with an invalid token the user will be asked to login.  No errors will be raised.
</aside>
<h1 id='errors'>Errors</h1>
<aside class="notice">Some of the errors you may find:</aside>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- We don&#39;t know what&#39;s wrong, but it&#39;s probably your fault.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Bad or expired access token.</td>
</tr>
<tr>
<td>402</td>
<td>Case could not be accepted at this time. -- But try again soon.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- Wherever you go, there you are. (Unless of course, we give you a 404 error.)</td>
</tr>
<tr>
<td>420</td>
<td>Enhance Your Calm -- Medical marijuana error.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- Our bad.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
